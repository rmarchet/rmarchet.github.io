!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n,r={exports:{}},i={};function o(){if(t)return i;t=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(t,n,r,i,o,a){return r=a.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:a}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var x=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function T(){}function P(t,r,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l,u,c=!1;if(null===t)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case e:case n:c=!0;break;case h:return P((c=t._init)(t._payload),r,i,o,a)}}if(c)return a=a(t),c=""===o?"."+N(t,0):o,w(a)?(i="",null!=c&&(i=c.replace(x,"$&/")+"/"),P(a,r,i,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,u=i+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+c,a=C(l.type,u,void 0,0,0,l.props)),r.push(a)),1;c=0;var d,p=""===o?".":o+":";if(w(t))for(var m=0;m<t.length;m++)c+=P(o=t[m],r,i,s=p+N(o,m),a);else if("function"==typeof(m=null===(d=t)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(t=m.call(t),m=0;!(o=t.next()).done;)c+=P(o=o.value,r,i,s=p+N(o,m++),a);else if("object"===s){if("function"==typeof t.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,i,o,a);throw r=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}return i.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i.Component=y,i.Fragment=r,i.Profiler=a,i.PureComponent=_,i.StrictMode=o,i.Suspense=c,i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,i.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},i.cache=function(e){return function(){return e.apply(null,arguments)}},i.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return C(e.type,i,void 0,0,0,r)},i.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},i.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return C(e,o,void 0,0,0,i)},i.createRef=function(){return{current:null}},i.forwardRef=function(e){return{$$typeof:u,render:e}},i.isValidElement=E,i.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},i.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},i.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(L,D)}catch(e){D(e)}finally{k.T=t}},i.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},i.use=function(e){return k.H.use(e)},i.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},i.useCallback=function(e,t){return k.H.useCallback(e,t)},i.useContext=function(e){return k.H.useContext(e)},i.useDebugValue=function(){},i.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},i.useEffect=function(e,t,n){var r=k.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},i.useId=function(){return k.H.useId()},i.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},i.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},i.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},i.useMemo=function(e,t){return k.H.useMemo(e,t)},i.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},i.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},i.useRef=function(e){return k.H.useRef(e)},i.useState=function(e){return k.H.useState(e)},i.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},i.useTransition=function(){return k.H.useTransition()},i.version="19.1.0",i}function a(){return n||(n=1,r.exports=o()),r.exports}var s,l,u=a(),c=e(u),d={exports:{}},h={},f={exports:{}},p={};function m(){return l||(l=1,f.exports=(s||(s=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,S||(S=!0,k());else{var t=n(u);null!==t&&R(w,t.startTime-e)}}var k,S=!1,C=-1,E=5,x=-1;function N(){return!(!g&&e.unstable_now()-x<E)}function T(){if(g=!1,S){var t=e.unstable_now();x=t;var i=!0;try{e:{p=!1,m&&(m=!1,v(C),C=-1),f=!0;var o=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&N());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,b(t),i=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var c=n(u);null!==c&&R(w,c.startTime-t),i=!1}}break e}finally{d=null,h=o,f=!1}i=void 0}}finally{i?k():S=!1}}}if("function"==typeof _)k=function(){_(T)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=T,k=function(){I.postMessage(null)}}else k=function(){y(T,0)};function R(t,n){C=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(m?(v(C),C=-1):m=!0,R(w,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,S||(S=!0,k()))),r},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(p)),p)),f.exports}var g,y,v,_,b={exports:{}},w={};function k(){if(g)return w;g=1;var e=a();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return w.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,w.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},w.flushSync=function(e){var t=o.T,n=r.p;try{if(o.T=null,r.p=2,e)return e()}finally{o.T=t,r.p=n,r.d.f()}},w.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},w.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},w.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:a}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},w.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},w.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},w.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},w.requestFormReset=function(e){r.d.r(e)},w.unstable_batchedUpdates=function(e,t){return e(t)},w.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},w.useFormStatus=function(){return o.H.useHostTransitionStatus()},w.version="19.1.0",w}function S(){if(v)return h;v=1;var e=m(),t=a(),n=(y||(y=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),b.exports=k()),b.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,d=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case w:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case E:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return A(e(t))}catch(e){}}return null}var F=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},j=[],H=-1;function B(e){return{current:e}}function W(e){0>H||(e.current=j[H],j[H]=null,H--)}function V(e,t){H++,j[H]=e.current,e.current=t}var $=B(null),G=B(null),Q=B(null),Y=B(null);function K(e,t){switch(V(Q,t),V(G,e),V($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ld(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ud(t=ld(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W($),V($,e)}function X(){W($),W(G),W(Q)}function J(e){null!==e.memoizedState&&V(Y,e);var t=$.current,n=ud(t,e.type);t!==n&&(V(G,e),V($,n))}function Z(e){G.current===e&&(W($),W(G)),Y.current===e&&(W(Y),Jd._currentValue=q)}var ee=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,re=e.unstable_shouldYield,ie=e.unstable_requestPaint,oe=e.unstable_now,ae=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,ce=e.unstable_LowPriority,de=e.unstable_IdlePriority,he=e.log,fe=e.unstable_setDisableYieldValue,pe=null,me=null;function ge(e){if("function"==typeof he&&fe(e),me&&"function"==typeof me.setStrictMode)try{me.setStrictMode(pe,e)}catch(e){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ve(e)/_e|0)|0},ve=Math.log,_e=Math.LN2;var be=256,we=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ke(r):0!==(a&=s)?i=ke(a):n||0!==(n=s&~e)&&(i=ke(n)):0!==(s=r&~o)?i=ke(s):0!==a?i=ke(a):n||0!==(n=r&~e)&&(i=ke(n)),0===i?0:0!==t&&t!==i&&!(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function Ce(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function Ne(){var e=we;return!(62914560&(we<<=1))&&(we=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Oe(){var e=U.p;return 0!==e?e:void 0===(e=window.event)?32:fh(e.type)}var Me=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Me,Fe="__reactProps$"+Me,ze="__reactContainer$"+Me,Ue="__reactEvents$"+Me,qe="__reactListeners$"+Me,je="__reactHandles$"+Me,He="__reactResources$"+Me,Be="__reactMarker$"+Me;function We(e){delete e[Ae],delete e[Fe],delete e[Ue],delete e[qe],delete e[je]}function Ve(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sd(e);null!==e;){if(n=e[Ae])return n;e=Sd(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ae]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Qe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Be]=!0}var Ke=new Set,Xe={};function Je(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var et,tt,nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},it={};function ot(e,t,n){if(i=t,ee.call(it,i)||!ee.call(rt,i)&&(nt.test(i)?it[i]=!0:(rt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function lt(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||"",tt=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+et+e+tt}var ut=!1;function ct(e,t){if(!e||ut)return"";ut=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{ut=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?lt(n):""}function dt(e){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return ct(e.type,!1);case 11:return ct(e.type.render,!1);case 1:return ct(e.type,!0);case 31:return lt("Activity");default:return""}}function ht(e){try{var t="";do{t+=dt(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){e._valueTracker||(e._valueTracker=function(e){var t=pt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function _t(e){return e.replace(vt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function bt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?kt(e,a,ft(t)):null!=n?kt(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ft(s):e.removeAttribute("name")}function wt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function kt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ct(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(F(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Tt(e,o,i)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Ft=null;function zt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Fe]||null;if(!o)throw Error(r(90));bt(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&gt(i)}break e;case"textarea":Ct(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ut=!1;function qt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==At||null!==Ft)&&(Vu(),At&&(t=At,e=Ft,Ft=At=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Fe]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ht=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Bt=!1;if(Ht)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(e){Bt=!1}var Vt=null,$t=null,Gt=null;function Qt(){if(Gt)return Gt;var e,t,n=$t,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Xt(){return!1}function Jt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Xt,this.isPropagationStopped=Xt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),on=c({},nn,{view:0,detail:0}),an=Jt(on),sn=c({},on,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),ln=Jt(sn),un=Jt(c({},sn,{dataTransfer:0})),cn=Jt(c({},on,{relatedTarget:0})),dn=Jt(c({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(c({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(c({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return yn}var _n=Jt(c({},on,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(c({},on,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),kn=Jt(c({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Jt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Jt(c({},nn,{newState:0,oldState:0})),En=[9,13,27,32],xn=Ht&&"CompositionEvent"in window,Nn=null;Ht&&"documentMode"in document&&(Nn=document.documentMode);var Tn=Ht&&"TextEvent"in window&&!Nn,Pn=Ht&&(!xn||Nn&&8<Nn&&11>=Nn),In=String.fromCharCode(32),Rn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Fn(e,t,n,r){At?Ft?Ft.push(r):Ft=[r]:At=r,0<(t=Qc(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Un=null;function qn(e){qc(e,0)}function jn(e){if(gt(Ge(e)))return e}function Hn(e,t){if("change"===e)return t}var Bn=!1;if(Ht){var Wn;if(Ht){var Vn="oninput"in document;if(!Vn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Vn="function"==typeof $n.oninput}Wn=Vn}else Wn=!1;Bn=Wn&&(!document.documentMode||9<document.documentMode)}function Gn(){zn&&(zn.detachEvent("onpropertychange",Qn),Un=zn=null)}function Qn(e){if("value"===e.propertyName&&jn(Un)){var t=[];Fn(t,Un,e,Mt(e)),qt(qn,t)}}function Yn(e,t,n){"focusin"===e?(Gn(),Un=n,(zn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Un)}function Xn(e,t){if("click"===e)return jn(t)}function Jn(e,t){if("input"===e||"change"===e)return jn(t)}var Zn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function er(e,t){if(Zn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ee.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ht&&"documentMode"in document&&11>=document.documentMode,sr=null,lr=null,ur=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==yt(r)||("selectionStart"in(r=sr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&er(ur,r)||(ur=r,0<(r=Qc(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Ht&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),vr=gr("animationiteration"),_r=gr("animationstart"),br=gr("transitionrun"),wr=gr("transitionstart"),kr=gr("transitioncancel"),Sr=gr("transitionend"),Cr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Cr.set(e,t),Je(t,[e])}Er.push("scrollEnd");var Nr=new WeakMap;function Tr(e,t){if("object"==typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ht(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:ht(t)}}var Pr=[],Ir=0,Rr=0;function Dr(){for(var e=Ir,t=Rr=Ir=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var i=Pr[t];Pr[t++]=null;var o=Pr[t];if(Pr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Ar(n,i,o)}}function Lr(e,t,n,r){Pr[Ir++]=e,Pr[Ir++]=t,Pr[Ir++]=n,Pr[Ir++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Lr(e,t,n,r),Fr(e)}function Mr(e,t){return Lr(e,null,null,t),Fr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-ye(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Fr(e){if(50<Au)throw Au=0,Fu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new Ur(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,i,o,a){var s=0;if(i=e,"function"==typeof e)jr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case R:return(e=qr(31,n,t,o)).elementType=R,e.lanes=a,e;case g:return Vr(n.children,o,a,t);case _:s=8,o|=24;break;case w:return(e=qr(12,n,t,2|o)).elementType=w,e.lanes=a,e;case N:return(e=qr(13,n,t,o)).elementType=N,e.lanes=a,e;case T:return(e=qr(19,n,t,o)).elementType=T,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:case E:s=10;break e;case C:s=9;break e;case x:s=11;break e;case P:s=14;break e;case I:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=qr(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function Vr(e,t,n,r){return(e=qr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=qr(6,e,null,t)).lanes=n,e}function Gr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=[],Yr=0,Kr=null,Xr=0,Jr=[],Zr=0,ei=null,ti=1,ni="";function ri(e,t){Qr[Yr++]=Xr,Qr[Yr++]=Kr,Kr=e,Xr=t}function ii(e,t,n){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ei=e;var r=ti;e=ni;var i=32-ye(r)-1;r&=~(1<<i),n+=1;var o=32-ye(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ti=1<<32-ye(t)+i|n<<i|r,ni=o+e}else ti=1<<o|n<<i|r,ni=e}function oi(e){null!==e.return&&(ri(e,1),ii(e,1,0))}function ai(e){for(;e===Kr;)Kr=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null;for(;e===ei;)ei=Jr[--Zr],Jr[Zr]=null,ni=Jr[--Zr],Jr[Zr]=null,ti=Jr[--Zr],Jr[Zr]=null}var si=null,li=null,ui=!1,ci=null,di=!1,hi=Error(r(519));function fi(e){throw _i(Tr(Error(r(418,"")),e)),hi}function pi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Fe]=r,n){case"dialog":jc("cancel",t),jc("close",t);break;case"iframe":case"object":case"embed":jc("load",t);break;case"video":case"audio":for(n=0;n<zc.length;n++)jc(zc[n],t);break;case"source":jc("error",t);break;case"img":case"image":case"link":jc("error",t),jc("load",t);break;case"details":jc("toggle",t);break;case"input":jc("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),mt(t);break;case"select":jc("invalid",t);break;case"textarea":jc("invalid",t),Et(t,r.value,r.defaultValue,r.children),mt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ed(t.textContent,n)?(null!=r.popover&&(jc("beforetoggle",t),jc("toggle",t)),null!=r.onScroll&&jc("scroll",t),null!=r.onScrollEnd&&jc("scrollend",t),null!=r.onClick&&(t.onclick=td),t=!0):t=!1,t||fi(e)}function mi(e){for(si=e.return;si;)switch(si.tag){case 5:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:si=si.return}}function gi(e){if(e!==si)return!1;if(!ui)return mi(e),ui=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||cd(e.type,e.memoizedProps)),t=!t),t&&li&&fi(e),mi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){li=wd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}li=null}}else 27===n?(n=li,yd(e.type)?(e=kd,kd=null,li=e):li=n):li=si?wd(e.stateNode.nextSibling):null;return!0}function yi(){li=si=null,ui=!1}function vi(){var e=ci;return null!==e&&(null===Su?Su=e:Su.push.apply(Su,e),ci=null),e}function _i(e){null===ci?ci=[e]:ci.push(e)}var bi=B(null),wi=null,ki=null;function Si(e,t,n){V(bi,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=bi.current,W(bi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ei(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Ni(e,t,n,i){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=o.type;Zn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===Y.current){if(null===(s=o.alternate))throw Error(r(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Jd):e=[Jd])}o=o.return}null!==e&&xi(t,e,n,i),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){wi=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Di(wi,e)}function Ri(e,t){return null===wi&&Pi(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(r(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Li="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Oi=e.unstable_scheduleCallback,Mi=e.unstable_NormalPriority,Ai={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Oi(Mi,(function(){e.controller.abort()}))}var Ui=null,qi=0,ji=0,Hi=null;function Bi(){if(0==--qi&&null!==Ui){null!==Hi&&(Hi.status="fulfilled");var e=Ui;Ui=null,ji=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=z.S;z.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];qi=0,ji=Lc(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Bi,Bi)}(0,t),null!==Wi&&Wi(e,t)};var Vi=B(null);function $i(){var e=Vi.current;return null!==e?e:su.pooledCache}function Gi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Qi(){var e=$i();return null===e?null:{parent:Ai._currentValue,pool:e}}var Yi=Error(r(460)),Ki=Error(r(474)),Xi=Error(r(542)),Ji={then:function(){}};function Zi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function eo(){}function to(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(eo,eo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e;default:if("string"==typeof t.status)t.then(eo,eo);else{if(null!==(e=su)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e}throw no=t,Yi}}var no=null;function ro(){if(null===no)throw Error(r(459));var e=no;return no=null,e}function io(e){if(e===Yi||e===Xi)throw Error(r(483))}var oo=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&au){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Fr(e),Ar(e,null,n),t}return Lr(e,r,t,n),Fr(e)}function co(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fo=!1;function po(){if(fo){if(null!==Hi)throw Hi}}function mo(e,t,n,r){fo=!1;var i=e.updateQueue;oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,d=u=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(uu&f)===f:(r&f)===f){0!==f&&f===ji&&(fo=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=c({},h,f);break e;case 2:oo=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===o&&(i.shared.lanes=0),yu|=a,e.lanes=a,e.memoizedState=h}}function go(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function yo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)go(n[e],t)}var vo=B(null),_o=B(0);function bo(e,t){V(_o,e=mu),V(vo,t),mu=e|t.baseLanes}function wo(){V(_o,mu),V(vo,vo.current)}function ko(){mu=_o.current,W(vo),W(_o)}var So=0,Co=null,Eo=null,xo=null,No=!1,To=!1,Po=!1,Io=0,Ro=0,Do=null,Lo=0;function Oo(){throw Error(r(321))}function Mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Ao(e,t,n,r,i,o){return So=o,Co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?Ka:Xa,Po=!1,o=n(r,i),Po=!1,To&&(o=zo(t,n,r,i)),Fo(e),o}function Fo(e){z.H=Ya;var t=null!==Eo&&null!==Eo.next;if(So=0,xo=Eo=Co=null,No=!1,Ro=0,Do=null,t)throw Error(r(300));null===e||Rs||null!==(e=e.dependencies)&&Ti(e)&&(Rs=!0)}function zo(e,t,n,i){Co=e;var o=0;do{if(To&&(Do=null),Ro=0,To=!1,25<=o)throw Error(r(301));if(o+=1,xo=Eo=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}z.H=Ja,a=t(n,i)}while(To);return a}function Uo(){var e=z.H,t=e.useState()[0];return t="function"==typeof t.then?Vo(t):t,e=e.useState()[0],(null!==Eo?Eo.memoizedState:null)!==e&&(Co.flags|=1024),t}function qo(){var e=0!==Io;return Io=0,e}function jo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ho(e){if(No){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}No=!1}So=0,xo=Eo=Co=null,To=!1,Ro=Io=0,Do=null}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?Co.memoizedState=xo=e:xo=xo.next=e,xo}function Wo(){if(null===Eo){var e=Co.alternate;e=null!==e?e.memoizedState:null}else e=Eo.next;var t=null===xo?Co.memoizedState:xo.next;if(null!==t)xo=t,Eo=e;else{if(null===e){if(null===Co.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Eo=e).memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},null===xo?Co.memoizedState=xo=e:xo=xo.next=e}return xo}function Vo(e){var t=Ro;return Ro+=1,null===Do&&(Do=[]),e=to(Do,e,t),t=Co,null===(null===xo?t.memoizedState:xo.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?Ka:Xa),e}function $o(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Vo(e);if(e.$$typeof===E)return Ii(e)}throw Error(r(438,String(e)))}function Go(e){var t=null,n=Co.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Co.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Co.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=D;return t.index++,n}function Qo(e,t){return"function"==typeof t?t(e):t}function Yo(e){return Ko(Wo(),Eo,e)}function Ko(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,a=i.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,i.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(uu&h)===h:(So&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===ji&&(d=!0);else{if((So&f)===f){c=c.next,f===ji&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,Co.lanes|=f,yu|=f}h=c.action,Po&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,Co.lanes|=h,yu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!Zn(a,e.memoizedState)&&(Rs=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Xo(e){var t=Wo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Zn(a,t.memoizedState)||(Rs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Jo(e,t,n){var i=Co,o=Wo(),a=ui;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!Zn((Eo||o).memoizedState,n);if(s&&(o.memoizedState=n,Rs=!0),o=o.queue,wa(2048,8,ta.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||null!==xo&&1&xo.memoizedState.tag){if(i.flags|=2048,va(9,{destroy:void 0,resource:void 0},ea.bind(null,i,o,n,t),null),null===su)throw Error(r(349));a||124&So||Zo(i,t,n)}return n}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Co.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ea(e,t,n,r){t.value=n,t.getSnapshot=r,na(t)&&ra(e)}function ta(e,t,n){return n((function(){na(t)&&ra(e)}))}function na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(e){return!0}}function ra(e){var t=Mr(e,2);null!==t&&qu(t,e,2)}function ia(e){var t=Bo();if("function"==typeof e){var n=e;if(e=n(),Po){ge(!0);try{n()}finally{ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},t}function oa(e,t,n,r){return e.baseState=n,Ko(e,Eo,"function"==typeof r?r:Qo)}function aa(e,t,n,i,o){if($a(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==z.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,sa(t,a)):(a.next=n.next,t.pending=n.next=a)}}function sa(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=z.T,a={};z.T=a;try{var s=n(i,r),l=z.S;null!==l&&l(a,s),la(e,t,s)}catch(n){ca(e,t,n)}finally{z.T=o}}else try{la(e,t,o=n(i,r))}catch(n){ca(e,t,n)}}function la(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){ua(e,t,n)}),(function(n){return ca(e,t,n)})):ua(e,t,n)}function ua(e,t,n){t.status="fulfilled",t.value=n,da(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,sa(e,n)))}function ca(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,da(t),t=t.next}while(t!==r)}e.action=null}function da(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ha(e,t){return t}function fa(e,t){if(ui){var n=su.formState;if(null!==n){e:{var r=Co;if(ui){if(li){t:{for(var i=li,o=di;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=wd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){li=wd(i.nextSibling),r="F!"===i.data;break e}}fi(r)}r=!1}r&&(t=n[0])}}return(n=Bo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},n.queue=r,n=Ba.bind(null,Co,r),r.dispatch=n,r=ia(!1),o=Va.bind(null,Co,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Bo()).queue=i,n=aa.bind(null,Co,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function pa(e){return ma(Wo(),Eo,e)}function ma(e,t,n){if(t=Ko(e,t,ha)[0],e=Yo(Qo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Vo(t)}catch(e){if(e===Yi)throw Xi;throw e}else r=t;var i=(t=Wo()).queue,o=i.dispatch;return n!==t.memoizedState&&(Co.flags|=2048,va(9,{destroy:void 0,resource:void 0},ga.bind(null,i,n),null)),[r,o,e]}function ga(e,t){e.action=t}function ya(e){var t=Wo(),n=Eo;if(null!==n)return ma(t,n,e);Wo(),t=t.memoizedState;var r=(n=Wo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function va(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Co.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Co.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _a(){return Wo().memoizedState}function ba(e,t,n,r){var i=Bo();r=void 0===r?null:r,Co.flags|=e,i.memoizedState=va(1|t,{destroy:void 0,resource:void 0},n,r)}function wa(e,t,n,r){var i=Wo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Eo&&null!==r&&Mo(r,Eo.memoizedState.deps)?i.memoizedState=va(t,o,n,r):(Co.flags|=e,i.memoizedState=va(1|t,o,n,r))}function ka(e,t){ba(8390656,8,e,t)}function Sa(e,t){wa(2048,8,e,t)}function Ca(e,t){return wa(4,2,e,t)}function Ea(e,t){return wa(4,4,e,t)}function xa(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Na(e,t,n){n=null!=n?n.concat([e]):null,wa(4,4,xa.bind(null,t,e),n)}function Ta(){}function Pa(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ia(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Mo(t,r[1]))return r[0];if(r=e(),Po){ge(!0);try{e()}finally{ge(!1)}}return n.memoizedState=[r,t],r}function Ra(e,t,n){return void 0===n||1073741824&So?e.memoizedState=t:(e.memoizedState=n,e=Uu(),Co.lanes|=e,yu|=e,n)}function Da(e,t,n,r){return Zn(n,t)?n:null!==vo.current?(e=Ra(e,n,r),Zn(e,t)||(Rs=!0),e):42&So?(e=Uu(),Co.lanes|=e,yu|=e,t):(Rs=!0,e.memoizedState=n)}function La(e,t,n,r,i){var o=U.p;U.p=0!==o&&8>o?o:8;var a,s,l,u=z.T,c={};z.T=c,Va(e,!1,t,n);try{var d=i(),h=z.S;if(null!==h&&h(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then((function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),l);Wa(e,t,f,zu())}else Wa(e,t,r,zu())}catch(n){Wa(e,t,{then:function(){},status:"rejected",reason:n},zu())}finally{U.p=o,z.T=u}}function Oa(){}function Ma(e,t,n,i){if(5!==e.tag)throw Error(r(476));var o=Aa(e).queue;La(e,o,t,q,null===n?Oa:function(){return Fa(e),n(i)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Fa(e){Wa(e,Aa(e).next.queue,{},zu())}function za(){return Ii(Jd)}function Ua(){return Wo().memoizedState}function qa(){return Wo().memoizedState}function ja(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=zu(),r=uo(t,e=lo(n),n);return null!==r&&(qu(r,t,n),co(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function Ha(e,t,n){var r=zu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e)?Ga(t,n):null!==(n=Or(e,t,n,r))&&(qu(n,e,r),Qa(n,t,r))}function Ba(e,t,n){Wa(e,t,n,zu())}function Wa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Ga(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,a))return Lr(e,t,i,0),null===su&&Dr(),!1}catch(e){}if(null!==(n=Or(e,t,i,r)))return qu(n,e,r),Qa(n,t,r),!0}return!1}function Va(e,t,n,i){if(i={lane:2,revertLane:Lc(),action:i,hasEagerState:!1,eagerState:null,next:null},$a(e)){if(t)throw Error(r(479))}else null!==(t=Or(e,n,i,2))&&qu(t,e,2)}function $a(e){var t=e.alternate;return e===Co||null!==t&&t===Co}function Ga(e,t){To=No=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var Ya={readContext:Ii,use:$o,useCallback:Oo,useContext:Oo,useEffect:Oo,useImperativeHandle:Oo,useLayoutEffect:Oo,useInsertionEffect:Oo,useMemo:Oo,useReducer:Oo,useRef:Oo,useState:Oo,useDebugValue:Oo,useDeferredValue:Oo,useTransition:Oo,useSyncExternalStore:Oo,useId:Oo,useHostTransitionStatus:Oo,useFormState:Oo,useActionState:Oo,useOptimistic:Oo,useMemoCache:Oo,useCacheRefresh:Oo},Ka={readContext:Ii,use:$o,useCallback:function(e,t){return Bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:ka,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ba(4194308,4,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4194308,4,e,t)},useInsertionEffect:function(e,t){ba(4,2,e,t)},useMemo:function(e,t){var n=Bo();t=void 0===t?null:t;var r=e();if(Po){ge(!0);try{e()}finally{ge(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bo();if(void 0!==n){var i=n(t);if(Po){ge(!0);try{n(t)}finally{ge(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ha.bind(null,Co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Bo().memoizedState=e},useState:function(e){var t=(e=ia(e)).queue,n=Ba.bind(null,Co,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ta,useDeferredValue:function(e,t){return Ra(Bo(),e,t)},useTransition:function(){var e=ia(!1);return e=La.bind(null,Co,e.queue,!0,!1),Bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Co,o=Bo();if(ui){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===su)throw Error(r(349));124&uu||Zo(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,ka(ta.bind(null,i,a,e),[e]),i.flags|=2048,va(9,{destroy:void 0,resource:void 0},ea.bind(null,i,a,n,t),null),n},useId:function(){var e=Bo(),t=su.identifierPrefix;if(ui){var n=ni;t="«"+t+"R"+(n=(ti&~(1<<32-ye(ti)-1)).toString(32)+n),0<(n=Io++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Lo++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:za,useFormState:fa,useActionState:fa,useOptimistic:function(e){var t=Bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,Co,!0,n),n.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return Bo().memoizedState=ja.bind(null,Co)}},Xa={readContext:Ii,use:$o,useCallback:Pa,useContext:Ii,useEffect:Sa,useImperativeHandle:Na,useInsertionEffect:Ca,useLayoutEffect:Ea,useMemo:Ia,useReducer:Yo,useRef:_a,useState:function(){return Yo(Qo)},useDebugValue:Ta,useDeferredValue:function(e,t){return Da(Wo(),Eo.memoizedState,e,t)},useTransition:function(){var e=Yo(Qo)[0],t=Wo().memoizedState;return["boolean"==typeof e?e:Vo(e),t]},useSyncExternalStore:Jo,useId:Ua,useHostTransitionStatus:za,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){return oa(Wo(),0,e,t)},useMemoCache:Go,useCacheRefresh:qa},Ja={readContext:Ii,use:$o,useCallback:Pa,useContext:Ii,useEffect:Sa,useImperativeHandle:Na,useInsertionEffect:Ca,useLayoutEffect:Ea,useMemo:Ia,useReducer:Xo,useRef:_a,useState:function(){return Xo(Qo)},useDebugValue:Ta,useDeferredValue:function(e,t){var n=Wo();return null===Eo?Ra(n,e,t):Da(n,Eo.memoizedState,e,t)},useTransition:function(){var e=Xo(Qo)[0],t=Wo().memoizedState;return["boolean"==typeof e?e:Vo(e),t]},useSyncExternalStore:Jo,useId:Ua,useHostTransitionStatus:za,useFormState:ya,useActionState:ya,useOptimistic:function(e,t){var n=Wo();return null!==Eo?oa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Go,useCacheRefresh:qa},Za=null,es=0;function ts(e){var t=es;return es+=1,null===Za&&(Za=[]),to(Za,e,t)}function ns(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function rs(e,t){if(t.$$typeof===d)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function is(e){return(0,e._init)(e._payload)}function os(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Hr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===I&&is(i)===t.type)?(ns(t=o(t,n.props),n),t.return=e,t):(ns(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return ns(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Gr(t,e.mode,n)).return=e,t;case I:return h(e,t=(0,t._init)(t._payload),n)}if(F(t)||O(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,ts(t),n);if(t.$$typeof===E)return h(e,Ri(e,t),n);rs(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?u(e,t,n,r):null;case p:return n.key===i?c(e,t,n,r):null;case I:return m(e,t,n=(i=n._init)(n._payload),r)}if(F(n)||O(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,ts(n),r);if(n.$$typeof===E)return m(e,t,Ri(e,n),r);rs(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(F(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,ts(r),i);if(r.$$typeof===E)return y(e,t,n,Ri(t,r),i);rs(t,r)}return null}function v(l,u,c,d){if("object"==typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var _=c.key;null!==u;){if(u.key===_){if((_=c.type)===g){if(7===u.tag){n(l,u.sibling),(d=o(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===I&&is(_)===u.type){n(l,u.sibling),ns(d=o(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((d=Vr(c.props.children,l.mode,d,c.key)).return=l,l=d):(ns(d=Wr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case p:e:{for(_=c.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=o(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Gr(c,l.mode,d)).return=l,l=d}return s(l);case I:return v(l,u,c=(_=c._init)(c._payload),d)}if(F(c))return function(r,o,s,l){for(var u=null,c=null,d=o,f=o=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=m(r,d,s[f],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(r,d),o=a(g,o,f),null===c?u=g:c.sibling=g,c=g,d=p}if(f===s.length)return n(r,d),ui&&ri(r,f),u;if(null===d){for(;f<s.length;f++)null!==(d=h(r,s[f],l))&&(o=a(d,o,f),null===c?u=d:c.sibling=d,c=d);return ui&&ri(r,f),u}for(d=i(d);f<s.length;f++)null!==(p=y(d,r,f,s[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),o=a(p,o,f),null===c?u=p:c.sibling=p,c=p);return e&&d.forEach((function(e){return t(r,e)})),ui&&ri(r,f),u}(l,u,c,d);if(O(c)){if("function"!=typeof(_=O(c)))throw Error(r(150));return function(o,s,l,u){if(null==l)throw Error(r(151));for(var c=null,d=null,f=s,p=s=0,g=null,v=l.next();null!==f&&!v.done;p++,v=l.next()){f.index>p?(g=f,f=null):g=f.sibling;var _=m(o,f,v.value,u);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(o,f),s=a(_,s,p),null===d?c=_:d.sibling=_,d=_,f=g}if(v.done)return n(o,f),ui&&ri(o,p),c;if(null===f){for(;!v.done;p++,v=l.next())null!==(v=h(o,v.value,u))&&(s=a(v,s,p),null===d?c=v:d.sibling=v,d=v);return ui&&ri(o,p),c}for(f=i(f);!v.done;p++,v=l.next())null!==(v=y(f,o,p,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?p:v.key),s=a(v,s,p),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(o,e)})),ui&&ri(o,p),c}(l,u,c=_.call(c),d)}if("function"==typeof c.then)return v(l,u,ts(c),d);if(c.$$typeof===E)return v(l,u,Ri(l,c),d);rs(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=o(u,c)).return=l,l=d):(n(l,u),(d=$r(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{es=0;var i=v(e,t,n,r);return Za=null,i}catch(t){if(t===Yi||t===Xi)throw t;var o=qr(29,t,null,e.mode);return o.lanes=r,o.return=e,o}}}var as=os(!0),ss=os(!1),ls=B(null),us=null;function cs(e){var t=e.alternate;V(ps,1&ps.current),V(ls,e),null===us&&(null===t||null!==vo.current||null!==t.memoizedState)&&(us=e)}function ds(e){if(22===e.tag){if(V(ps,ps.current),V(ls,e),null===us){var t=e.alternate;null!==t&&null!==t.memoizedState&&(us=e)}}else hs()}function hs(){V(ps,ps.current),V(ls,ls.current)}function fs(e){W(ls),us===e&&(us=null),W(ps)}var ps=B(0);function ms(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ys={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zu(),i=lo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=uo(e,i,r))&&(qu(t,e,r),co(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zu(),i=lo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=uo(e,i,r))&&(qu(t,e,r),co(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zu(),r=lo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=uo(e,r,n))&&(qu(t,e,n),co(t,e,n))}};function vs(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,o))}function _s(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function bs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ws="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ks(e){ws(e)}function Ss(e){console.error(e)}function Cs(e){ws(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function xs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function Ns(e,t,n){return(n=lo(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function Ts(e){return(e=lo(e)).tag=3,e}function Ps(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){xs(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){xs(t,n,r),"function"!=typeof i&&(null===Tu?Tu=new Set([this]):Tu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Is=Error(r(461)),Rs=!1;function Ds(e,t,n,r){t.child=null===e?ss(t,null,n,r):as(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Pi(t),r=Ao(e,t,n,a,o,i),s=qo(),null===e||Rs?(ui&&s&&oi(t),t.flags|=1,Ds(e,t,r,i),t.child):(jo(e,t,i),Zs(e,t,i))}function Os(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||jr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ms(e,t,o,r,i))}if(o=e.child,!el(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:er)(a,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Hr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(er(o,r)&&e.ref===t.ref){if(Rs=!1,t.pendingProps=r=o,!el(e,i))return t.lanes=e.lanes,Zs(e,t,i);131072&e.flags&&(Rs=!0)}}return Us(e,t,n,r,i)}function As(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Fs(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Fs(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==o?o.cachePool:null),null!==o?bo(t,o):wo(),ds(t)}else null!==o?(Gi(0,o.cachePool),bo(t,o),hs(),t.memoizedState=null):(null!==e&&Gi(0,null),wo(),hs());return Ds(e,t,i,n),t.child}function Fs(e,t,n,r){var i=$i();return i=null===i?null:{parent:Ai._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),wo(),ds(t),null!==e&&Ni(e,t,r,!0),null}function zs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Us(e,t,n,r,i){return Pi(t),n=Ao(e,t,n,r,void 0,i),r=qo(),null===e||Rs?(ui&&r&&oi(t),t.flags|=1,Ds(e,t,n,i),t.child):(jo(e,t,i),Zs(e,t,i))}function qs(e,t,n,r,i,o){return Pi(t),t.updateQueue=null,n=zo(t,r,n,i),Fo(e),r=qo(),null===e||Rs?(ui&&r&&oi(t),t.flags|=1,Ds(e,t,n,o),t.child):(jo(e,t,o),Zs(e,t,o))}function js(e,t,n,r,i){if(Pi(t),null===t.stateNode){var o=zr,a=n.contextType;"object"==typeof a&&null!==a&&(o=Ii(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ys,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},ao(t),a=n.contextType,o.context="object"==typeof a&&null!==a?Ii(a):zr,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(gs(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ys.enqueueReplaceState(o,o.state,null),mo(t,r,o,i),po(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=bs(n,s);o.props=l;var u=o.context,c=n.contextType;a=zr,"object"==typeof c&&null!==c&&(a=Ii(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||u!==a)&&_s(t,o,r,a),oo=!1;var h=t.memoizedState;o.state=h,mo(t,r,o,i),po(),u=t.memoizedState,s||h!==u||oo?("function"==typeof d&&(gs(t,n,d,r),u=t.memoizedState),(l=oo||vs(t,n,l,r,h,u,a))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,so(e,t),c=bs(n,a=t.memoizedProps),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=zr,"object"==typeof u&&null!==u&&(l=Ii(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&_s(t,o,r,l),oo=!1,h=t.memoizedState,o.state=h,mo(t,r,o,i),po();var f=t.memoizedState;a!==d||h!==f||oo||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"==typeof s&&(gs(t,n,s,r),f=t.memoizedState),(c=oo||vs(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,zs(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=as(t,e.child,null,i),t.child=as(t,null,n,i)):Ds(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Zs(e,t,i),e}function Hs(e,t,n,r){return yi(),t.flags|=256,Ds(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ws(e){return{baseLanes:e,cachePool:Qi()}}function Vs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bu),e}function $s(e,t,n){var i,o=t.pendingProps,a=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&ps.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(ui){if(a?cs(t):hs(),ui){var l,u=li;if(l=u){e:{for(l=u,u=di;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=wd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(l=qr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,si=t,li=null,l=!0):l=!1}l||fi(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return bd(u)?t.lanes=32:t.lanes=536870912,null;fs(t)}return u=o.children,o=o.fallback,a?(hs(),u=Qs({mode:"hidden",children:u},a=t.mode),o=Vr(o,a,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(a=t.child).memoizedState=Ws(n),a.childLanes=Vs(e,i,n),t.memoizedState=Bs,o):(cs(t),Gs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(cs(t),t.flags&=-257,t=Ys(e,t,n)):null!==t.memoizedState?(hs(),t.child=e.child,t.flags|=128,t=null):(hs(),a=o.fallback,u=t.mode,o=Qs({mode:"visible",children:o.children},u),(a=Vr(a,u,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,as(t,e.child,null,n),(o=t.child).memoizedState=Ws(n),o.childLanes=Vs(e,i,n),t.memoizedState=Bs,t=a);else if(cs(t),bd(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(o=Error(r(419))).stack="",o.digest=i,_i({value:o,source:null,stack:null}),t=Ys(e,t,n)}else if(Rs||Ni(e,t,n,!1),i=!!(n&e.childLanes),Rs||i){if(null!==(i=su)&&(0!==(o=(o=42&(o=n&-n)?1:De(o))&(i.suspendedLanes|n)?0:o)&&o!==l.retryLane))throw l.retryLane=o,Mr(e,o),qu(i,e,o),Is;"$?"===u.data||Xu(),t=Ys(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,li=wd(u.nextSibling),si=t,ui=!0,ci=null,di=!1,null!==e&&(Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ti=e.id,ni=e.overflow,ei=t),(t=Gs(t,o.children)).flags|=4096);return t}return a?(hs(),a=o.fallback,u=t.mode,c=(l=e.child).sibling,(o=Hr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Hr(c,a):(a=Vr(a,u,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(u=e.child.memoizedState)?u=Ws(n):(null!==(l=u.cachePool)?(c=Ai._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Qi(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Vs(e,i,n),t.memoizedState=Bs,o):(cs(t),e=(n=e.child).sibling,(n=Hr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Gs(e,t){return(t=Qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qs(e,t){return(e=qr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ys(e,t,n){return as(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Xs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ds(e,t,r.children,n),2&(r=ps.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ps,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ms(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ms(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xs(t,!0,n,null,o);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),yu|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Hr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function tl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rs=!0;else{if(!(el(e,n)||128&t.flags))return Rs=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Si(0,Ai,e.memoizedState.cache),yi();break;case 27:case 5:J(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Si(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(cs(t),t.flags|=128,null):n&t.child.childLanes?$s(e,t,n):(cs(t),null!==(e=Zs(e,t,n))?e.sibling:null);cs(t);break;case 19:var i=!!(128&e.flags);if((r=!!(n&t.childLanes))||(Ni(e,t,n,!1),r=!!(n&t.childLanes)),i){if(r)return Js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ps,ps.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n);case 24:Si(0,Ai,e.memoizedState.cache)}return Zs(e,t,n)}(e,t,n);Rs=!!(131072&e.flags)}else Rs=!1,ui&&1048576&t.flags&&ii(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((o=i.$$typeof)===x){t.tag=11,t=Ls(null,t,i,e,n);break e}if(o===P){t.tag=14,t=Os(null,t,i,e,n);break e}}throw t=A(i)||i,Error(r(306,t,""))}jr(i)?(e=bs(i,e),t.tag=1,t=js(null,t,i,e,n)):(t.tag=0,t=Us(null,t,i,e,n))}return t;case 0:return Us(e,t,t.type,t.pendingProps,n);case 1:return js(e,t,i=t.type,o=bs(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var a=t.memoizedState;o=a.element,so(e,t),mo(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Si(0,Ai,i),i!==a.cache&&xi(t,[Ai],n,!0),po(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Hs(e,t,i,n);break e}if(i!==o){_i(o=Tr(Error(r(424)),t)),t=Hs(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(li=wd(e.firstChild),si=t,ui=!0,ci=null,di=!0,n=ss(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yi(),i===o){t=Zs(e,t,n);break e}Ds(e,t,i,n)}t=t.child}return t;case 26:return zs(e,t),null===e?(n=Dd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ui||(n=t.type,e=t.pendingProps,(i=sd(Q.current).createElement(n))[Ae]=t,i[Fe]=e,id(i,n,e),Ye(i),t.stateNode=i):t.memoizedState=Dd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ui&&(i=t.stateNode=Cd(t.type,t.pendingProps,Q.current),si=t,di=!0,o=li,yd(t.type)?(kd=o,li=wd(i.firstChild)):li=o),Ds(e,t,t.pendingProps.children,n),zs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ui&&((o=i=li)&&(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=wd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,di),null!==i?(t.stateNode=i,si=t,li=wd(i.firstChild),di=!1,o=!0):o=!1),o||fi(t)),J(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,cd(o,a)?i=null:null!==s&&cd(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Ao(e,t,Uo,null,null,n),Jd._currentValue=o),zs(e,t),Ds(e,t,i,n),t.child;case 6:return null===e&&ui&&((e=n=li)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=wd(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,si=t,li=null,e=!0):e=!1),e||fi(t)),null;case 13:return $s(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=as(t,null,i,n):Ds(e,t,i,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Si(0,t.type,i.value),Ds(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Pi(t),i=i(o=Ii(o)),t.flags|=1,Ds(e,t,i,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return Js(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Qs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Hr(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return As(e,t,n);case 24:return Pi(t),i=Ii(Ai),null===e?(null===(o=$i())&&(o=su,a=Fi(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:i,cache:o},ao(t),Si(0,Ai,o)):(!!(e.lanes&n)&&(so(e,t),mo(t,null,null,n),po()),o=e.memoizedState,a=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Si(0,Ai,i)):(i=a.cache,Si(0,Ai,i),i!==o.cache&&xi(t,[Ai],n,!0))),Ds(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function nl(e){e.flags|=4}function rl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=ls.current)&&((4194048&uu)===uu?null!==us:(62914560&uu)!==uu&&!(536870912&uu)||t!==us))throw no=Ji,Ki;e.flags|=8192}}function il(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,wu|=t)}function ol(e,t){if(!ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function al(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var i=t.pendingProps;switch(ai(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return al(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ci(Ai),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(gi(t)?nl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,vi())),al(t),null;case 26:return n=t.memoizedState,null===e?(nl(t),null!==n?(al(t),rl(t,n)):(al(t),t.flags&=-16777217)):n?n!==e.memoizedState?(nl(t),al(t),rl(t,n)):(al(t),t.flags&=-16777217):(e.memoizedProps!==i&&nl(t),al(t),t.flags&=-16777217),null;case 27:Z(t),n=Q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&nl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return al(t),null}e=$.current,gi(t)?pi(t):(e=Cd(o,i,n),t.stateNode=e,nl(t))}return al(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&nl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return al(t),null}if(e=$.current,gi(t))pi(t);else{switch(o=sd(Q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?o.createElement(n,{is:i.is}):o.createElement(n)}}e[Ae]=t,e[Fe]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(id(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&nl(t)}}return al(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&nl(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=Q.current,gi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=si))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||ed(e.nodeValue,n)))||fi(t)}else(e=sd(e).createTextNode(i))[Ae]=t,t.stateNode=e}return al(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=gi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[Ae]=t}else yi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;al(t),o=!1}else o=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(fs(t),t):(fs(t),null)}if(fs(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),il(t,t.updateQueue),al(t),null;case 4:return X(),null===e&&Wc(t.stateNode.containerInfo),al(t),null;case 10:return Ci(t.type),al(t),null;case 19:if(W(ps),null===(o=t.memoizedState))return al(t),null;if(i=!!(128&t.flags),null===(a=o.rendering))if(i)ol(o,!1);else{if(0!==gu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=ms(e))){for(t.flags|=128,ol(o,!1),e=a.updateQueue,t.updateQueue=e,il(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return V(ps,1&ps.current|2),t.child}e=e.sibling}null!==o.tail&&oe()>xu&&(t.flags|=128,i=!0,ol(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ms(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,il(t,e),ol(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ui)return al(t),null}else 2*oe()-o.renderingStartTime>xu&&536870912!==n&&(t.flags|=128,i=!0,ol(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=oe(),t.sibling=null,e=ps.current,V(ps,i?1&e|2:1&e),t):(al(t),null);case 22:case 23:return fs(t),ko(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(al(t),6&t.subtreeFlags&&(t.flags|=8192)):al(t),null!==(n=t.updateQueue)&&il(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&W(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Ai),al(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ll(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Ai),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(fs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(ps),null;case 4:return X(),null;case 10:return Ci(t.type),null;case 22:case 23:return fs(t),ko(),null!==e&&W(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Ai),null;default:return null}}function ul(e,t){switch(ai(t),t.tag){case 3:Ci(Ai),X();break;case 26:case 27:case 5:Z(t);break;case 4:X();break;case 13:fs(t);break;case 19:W(ps);break;case 10:Ci(t.type);break;case 22:case 23:fs(t),ko(),null!==e&&W(Vi);break;case 24:Ci(Ai)}}function cl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(e){pc(t,t.return,e)}}function dl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(e){pc(i,l,e)}}}r=r.next}while(r!==o)}}catch(e){pc(t,t.return,e)}}function hl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{yo(t,n)}catch(t){pc(e,e.return,t)}}}function fl(e,t,n){n.props=bs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){pc(e,t,n)}}function pl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){pc(e,t,n)}}function ml(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){pc(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){pc(e,t,n)}else n.current=null}function gl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){pc(e,e.return,t)}}function yl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(p)||nd(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&nd(e,t,f,p,i,h)}}return void bt(e,s,l,u,c,d,a,o);case"select":for(a in p=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(a)||nd(e,t,a,null,i,u)}for(o in i)if(a=i[o],u=n[o],i.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&nd(e,t,o,a,i,u)}return t=l,n=s,i=p,void(null!=f?St(e,!!n,f,!1):!!i!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:nd(e,t,l,null,i,o)}for(s in i)if(o=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:o!==a&&nd(e,t,s,o,i,a)}return void Ct(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else nd(e,t,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else nd(e,t,u,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&nd(e,t,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:nd(e,t,c,f,i,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&rd(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||rd(e,t,d,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&nd(e,t,v,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||nd(e,t,h,f,i,p)}(i,e.type,n,t),i[Fe]=t}catch(t){pc(e,e.return,t)}}function vl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&yd(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&yd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=td));else if(4!==r&&(27===r&&yd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&yd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function kl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);id(t,r,n),t[Ae]=e,t[Fe]=n}catch(t){pc(e,e.return,t)}}var Sl=!1,Cl=!1,El=!1,xl="function"==typeof WeakSet?WeakSet:Set,Nl=null;function Tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&cl(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){pc(n,n.return,e)}else{var i=bs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){pc(n,n.return,e)}}64&r&&hl(n),512&r&&pl(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{yo(e,t)}catch(e){pc(n,n.return,e)}}break;case 27:null===t&&4&r&&kl(n);case 26:case 5:jl(e,n),null===t&&4&r&&gl(n),512&r&&pl(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=vc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Sl)){t=null!==t&&null!==t.memoizedState||Cl,i=Sl;var o=Cl;Sl=r,(Cl=t)&&!o?Bl(e,n,!!(8772&n.subtreeFlags)):jl(e,n),Sl=i,Cl=o}break;case 30:break;default:jl(e,n)}}function Pl(e){var t=e.alternate;null!==t&&(e.alternate=null,Pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Rl=!1;function Dl(e,t,n){for(n=n.child;null!==n;)Ll(e,t,n),n=n.sibling}function Ll(e,t,n){if(me&&"function"==typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(pe,n)}catch(e){}switch(n.tag){case 26:Cl||ml(n,t),Dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cl||ml(n,t);var r=Il,i=Rl;yd(n.type)&&(Il=n.stateNode,Rl=!1),Dl(e,t,n),Ed(n.stateNode),Il=r,Rl=i;break;case 5:Cl||ml(n,t);case 6:if(r=Il,i=Rl,Il=null,Dl(e,t,n),Rl=i,null!==(Il=r))if(Rl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(e){pc(n,t,e)}else try{Il.removeChild(n.stateNode)}catch(e){pc(n,t,e)}break;case 18:null!==Il&&(Rl?(vd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Rh(e)):vd(Il,n.stateNode));break;case 4:r=Il,i=Rl,Il=n.stateNode.containerInfo,Rl=!0,Dl(e,t,n),Il=r,Rl=i;break;case 0:case 11:case 14:case 15:Cl||dl(2,n,t),Cl||dl(4,n,t),Dl(e,t,n);break;case 1:Cl||(ml(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&fl(n,t,r)),Dl(e,t,n);break;case 21:Dl(e,t,n);break;case 22:Cl=(r=Cl)||null!==n.memoizedState,Dl(e,t,n),Cl=r;break;default:Dl(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Rh(e)}catch(e){pc(t,t.return,e)}}function Ml(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Al(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(yd(l.type)){Il=l.stateNode,Rl=!1;break e}break;case 5:Il=l.stateNode,Rl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Rl=!0;break e}l=l.return}if(null===Il)throw Error(r(160));Ll(a,s,o),Il=null,Rl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)zl(t,e),t=t.sibling}var Fl=null;function zl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Ul(e),4&i&&(dl(3,e,e.return),cl(3,e),dl(5,e,e.return));break;case 1:Al(t,e),Ul(e),512&i&&(Cl||null===n||ml(n,n.return)),64&i&&Sl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var o=Fl;if(Al(t,e),Ul(e),512&i&&(Cl||null===n||ml(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Be]||a[Ae]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(i),o.head.insertBefore(a,o.querySelector("head > title"))),id(a,i,n),a[Ae]=e,Ye(a),i=a;break e;case"link":var s=Bd("link","href",o).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}id(a=o.createElement(i),i,n),o.head.appendChild(a);break;case"meta":if(s=Bd("meta","content",o).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}id(a=o.createElement(i),i,n),o.head.appendChild(a);break;default:throw Error(r(468,i))}a[Ae]=e,Ye(a),i=a}e.stateNode=i}else Wd(o,e.type,e.stateNode);else e.stateNode=zd(o,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Wd(o,e.type,e.stateNode):zd(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&yl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),Ul(e),512&i&&(Cl||null===n||ml(n,n.return)),null!==n&&4&i&&yl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),Ul(e),512&i&&(Cl||null===n||ml(n,n.return)),32&e.flags){o=e.stateNode;try{xt(o,"")}catch(t){pc(e,e.return,t)}}4&i&&null!=e.stateNode&&yl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(El=!0);break;case 6:if(Al(t,e),Ul(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){pc(e,e.return,t)}}break;case 3:if(Hd=null,o=Fl,Fl=Td(t.containerInfo),Al(t,e),Fl=o,Ul(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Rh(t.containerInfo)}catch(t){pc(e,e.return,t)}El&&(El=!1,ql(e));break;case 4:i=Fl,Fl=Td(e.stateNode.containerInfo),Al(t,e),Ul(e),Fl=i;break;case 12:default:Al(t,e),Ul(e);break;case 13:Al(t,e),Ul(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Eu=oe()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ml(e,i)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Sl,d=Cl;if(Sl=c||o,Cl=d||u,Al(t,e),Cl=d,Sl=c,Ul(e),8192&i)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||Sl||Cl||Hl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){pc(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(e){pc(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ml(e,n))));break;case 19:Al(t,e),Ul(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ml(e,i)));case 30:case 21:}}function Ul(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(vl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode;wl(e,_l(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(xt(a,""),n.flags&=-33),wl(e,_l(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;bl(e,_l(e),s);break;default:throw Error(r(161))}}catch(t){pc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tl(e,t.alternate,t),t=t.sibling}function Hl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dl(4,t,t.return),Hl(t);break;case 1:ml(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&fl(t,t.return,n),Hl(t);break;case 27:Ed(t.stateNode);case 26:case 5:ml(t,t.return),Hl(t);break;case 22:null===t.memoizedState&&Hl(t);break;default:Hl(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Bl(i,o,n),cl(4,o);break;case 1:if(Bl(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){pc(r,r.return,e)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)go(l[i],s)}catch(e){pc(r,r.return,e)}}n&&64&a&&hl(o),pl(o,o.return);break;case 27:kl(o);case 26:case 5:Bl(i,o,n),n&&null===r&&4&a&&gl(o),pl(o,o.return);break;case 12:Bl(i,o,n);break;case 13:Bl(i,o,n),n&&4&a&&Ol(i,o);break;case 22:null===o.memoizedState&&Bl(i,o,n),pl(o,o.return);break;case 30:break;default:Bl(i,o,n)}t=t.sibling}}function Wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gl(e,t,n,r),t=t.sibling}function Gl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&cl(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){pc(t,t.return,e)}}else $l(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?$l(e,t,n,r):Yl(e,t):2&o._visibility?$l(e,t,n,r):(o._visibility|=2,Ql(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Wl(a,t);break;case 24:$l(e,t,n,r),2048&i&&Vl(t.alternate,t)}}function Ql(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(o,a,s,l,i),cl(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?Ql(o,a,s,l,i):Yl(o,a):(c._visibility|=2,Ql(o,a,s,l,i)),i&&2048&u&&Wl(a.alternate,a);break;case 24:Ql(o,a,s,l,i),i&&2048&u&&Vl(a.alternate,a);break;default:Ql(o,a,s,l,i)}t=t.sibling}}function Yl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Yl(n,r),2048&i&&Wl(r.alternate,r);break;case 24:Yl(n,r),2048&i&&Vl(r.alternate,r);break;default:Yl(n,r)}t=t.sibling}}var Kl=8192;function Xl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 26:Xl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===$d)throw Error(r(475));var i=$d;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var o=Ld(n.href),a=e.querySelector(Od(o));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Qd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void Ye(a);a=e.ownerDocument||e,n=Md(n),(o=xd.get(o))&&qd(n,o),Ye(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),id(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Qd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Fl,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=Fl;Fl=Td(e.stateNode.containerInfo),Xl(e),Fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Xl(e),Kl=t):Xl(e))}}function Zl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function eu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,ru(r,e)}Zl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)tu(e),e=e.sibling}function tu(e){switch(e.tag){case 0:case 11:case 15:eu(e),2048&e.flags&&dl(9,e,e.return);break;case 3:case 12:default:eu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,nu(e)):eu(e)}}function nu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,ru(r,e)}Zl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:dl(8,t,t.return),nu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,nu(t));break;default:nu(t)}e=e.sibling}}function ru(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:dl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var i=(r=Nl).sibling,o=r.return;if(Pl(r),r===n){Nl=null;break e}if(null!==i){i.return=o,Nl=i;break e}Nl=o}}}var iu={getCacheForType:function(e){var t=Ii(Ai),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ou="function"==typeof WeakMap?WeakMap:Map,au=0,su=null,lu=null,uu=0,cu=0,du=null,hu=!1,fu=!1,pu=!1,mu=0,gu=0,yu=0,vu=0,_u=0,bu=0,wu=0,ku=null,Su=null,Cu=!1,Eu=0,xu=1/0,Nu=null,Tu=null,Pu=0,Iu=null,Ru=null,Du=0,Lu=0,Ou=null,Mu=null,Au=0,Fu=null;function zu(){if(2&au&&0!==uu)return uu&-uu;if(null!==z.T){return 0!==ji?ji:Lc()}return Oe()}function Uu(){0===bu&&(bu=536870912&uu&&!ui?536870912:xe());var e=ls.current;return null!==e&&(e.flags|=32),bu}function qu(e,t,n){(e!==su||2!==cu&&9!==cu)&&null===e.cancelPendingCommit||(Gu(e,0),Wu(e,uu,bu,!1)),Pe(e,n),2&au&&e===su||(e===su&&(!(2&au)&&(vu|=n),4===gu&&Wu(e,uu,bu,!1)),xc(e))}function ju(e,t,n){if(6&au)throw Error(r(327));for(var i=!n&&!(124&t)&&!(t&e.expiredLanes)||Ce(e,t),o=i?function(e,t){var n=au;au|=2;var i=Yu(),o=Ku();su!==e||uu!==t?(Nu=null,xu=oe()+500,Gu(e,t)):fu=Ce(e,t);e:for(;;)try{if(0!==cu&&null!==lu){t=lu;var a=du;t:switch(cu){case 1:cu=0,du=null,rc(e,t,a,1);break;case 2:case 9:if(Zi(a)){cu=0,du=null,nc(t);break}t=function(){2!==cu&&9!==cu||su!==e||(cu=7),xc(e)},a.then(t,t);break e;case 3:cu=7;break e;case 4:cu=5;break e;case 7:Zi(a)?(cu=0,du=null,nc(t)):(cu=0,du=null,rc(e,t,a,7));break;case 5:var s=null;switch(lu.tag){case 26:s=lu.memoizedState;case 5:case 27:var l=lu;if(!s||Vd(s)){cu=0,du=null;var u=l.sibling;if(null!==u)lu=u;else{var c=l.return;null!==c?(lu=c,ic(c)):lu=null}break t}}cu=0,du=null,rc(e,t,a,5);break;case 6:cu=0,du=null,rc(e,t,a,6);break;case 8:$u(),gu=6;break e;default:throw Error(r(462))}}ec();break}catch(t){Qu(e,t)}return ki=wi=null,z.H=i,z.A=o,au=n,null!==lu?0:(su=null,uu=0,Dr(),gu)}(e,t):Ju(e,t,!0),a=i;;){if(0===o){fu&&!i&&Wu(e,t,0,!1);break}if(n=e.current.alternate,!a||Bu(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=ku;var u=l.current.memoizedState.isDehydrated;if(u&&(Gu(l,s).flags|=256),2!==(s=Ju(l,s,!1))){if(pu&&!u){l.errorRecoveryDisabledLanes|=a,vu|=a,o=4;break e}a=Su,Su=o,null!==a&&(null===Su?Su=a:Su.push.apply(Su,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){Gu(e,0),Wu(e,t,0,!0);break}e:{switch(i=e,a=o){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Wu(i,t,bu,!hu);break e;case 2:Su=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(o=Eu+300-oe())){if(Wu(i,t,bu,!hu),0!==Se(i,0,!0))break e;i.timeoutHandle=hd(Hu.bind(null,i,n,Su,Nu,Cu,t,bu,vu,wu,hu,a,2,-0,0),o)}else Hu(i,n,Su,Nu,Cu,t,bu,vu,wu,hu,a,0,-0,0)}break}o=Ju(e,t,!1),a=!1}xc(e)}function Hu(e,t,n,i,o,a,s,l,u,c,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&($d={stylesheets:null,count:0,unsuspend:Gd},Jl(t),null!==(h=function(){if(null===$d)throw Error(r(475));var e=$d;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ac.bind(null,e,t,a,n,i,o,s,l,u,d,1,f,p)),void Wu(e,a,s,!c);ac(e,t,a,n,i,o,s,l,u)}function Bu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zn(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wu(e,t,n,r){t&=~_u,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-ye(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ie(e,n,t)}function Vu(){return!!(6&au)||(Nc(0),!1)}function $u(){if(null!==lu){if(0===cu)var e=lu.return;else ki=wi=null,Ho(e=lu),Za=null,es=0,e=lu;for(;null!==e;)ul(e.alternate,e),e=e.return;lu=null}}function Gu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,fd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$u(),su=e,lu=n=Hr(e.current,null),uu=t,cu=0,du=null,hu=!1,fu=Ce(e,t),pu=!1,wu=bu=_u=vu=yu=gu=0,Su=ku=null,Cu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ye(r),o=1<<i;t|=e[i],r&=~o}return mu=t,Dr(),n}function Qu(e,t){Co=null,z.H=Ya,t===Yi||t===Xi?(t=ro(),cu=3):t===Ki?(t=ro(),cu=4):cu=t===Is?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,du=t,null===lu&&(gu=1,Es(e,Tr(t,e.current)))}function Yu(){var e=z.H;return z.H=Ya,null===e?Ya:e}function Ku(){var e=z.A;return z.A=iu,e}function Xu(){gu=4,hu||(4194048&uu)!==uu&&null!==ls.current||(fu=!0),!(134217727&yu)&&!(134217727&vu)||null===su||Wu(su,uu,bu,!1)}function Ju(e,t,n){var r=au;au|=2;var i=Yu(),o=Ku();su===e&&uu===t||(Nu=null,Gu(e,t)),t=!1;var a=gu;e:for(;;)try{if(0!==cu&&null!==lu){var s=lu,l=du;switch(cu){case 8:$u(),a=6;break e;case 3:case 2:case 9:case 6:null===ls.current&&(t=!0);var u=cu;if(cu=0,du=null,rc(e,s,l,u),n&&fu){a=0;break e}break;default:u=cu,cu=0,du=null,rc(e,s,l,u)}}Zu(),a=gu;break}catch(t){Qu(e,t)}return t&&e.shellSuspendCounter++,ki=wi=null,au=r,z.H=i,z.A=o,null===lu&&(su=null,uu=0,Dr()),a}function Zu(){for(;null!==lu;)tc(lu)}function ec(){for(;null!==lu&&!re();)tc(lu)}function tc(e){var t=tl(e.alternate,e,mu);e.memoizedProps=e.pendingProps,null===t?ic(e):lu=t}function nc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qs(n,t,t.pendingProps,t.type,void 0,uu);break;case 11:t=qs(n,t,t.pendingProps,t.type.render,t.ref,uu);break;case 5:Ho(t);default:ul(n,t),t=tl(n,t=lu=Br(t,mu),mu)}e.memoizedProps=e.pendingProps,null===t?ic(e):lu=t}function rc(e,t,n,i){ki=wi=null,Ho(t),Za=null,es=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ni(t,n,o,!0),null!==(n=ls.current)){switch(n.tag){case 13:return null===us?Xu():null===n.alternate&&0===gu&&(gu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),mc(e,i,o)),!1;case 22:return n.flags|=65536,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),mc(e,i,o)),!1}throw Error(r(435,n.tag))}return mc(e,i,o),Xu(),!1}if(ui)return null!==(t=ls.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==hi&&_i(Tr(e=Error(r(422),{cause:i}),n))):(i!==hi&&_i(Tr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=Tr(i,n),ho(e,o=Ns(e.stateNode,i,o)),4!==gu&&(gu=2)),!1;var a=Error(r(520),{cause:i});if(a=Tr(a,n),null===ku?ku=[a]:ku.push(a),4!==gu&&(gu=2),null===t)return!0;i=Tr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,ho(n,e=Ns(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Tu&&Tu.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ps(o=Ts(o),e,n,i),ho(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,uu))return gu=1,Es(e,Tr(n,e.current)),void(lu=null)}catch(t){if(null!==o)throw lu=o,t;return gu=1,Es(e,Tr(n,e.current)),void(lu=null)}32768&t.flags?(ui||1===i?e=!0:fu||536870912&uu?e=!1:(hu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=ls.current)&&13===i.tag&&(i.flags|=16384))),oc(t,e)):ic(t)}function ic(e){var t=e;do{if(32768&t.flags)return void oc(t,hu);e=t.return;var n=sl(t.alternate,t,mu);if(null!==n)return void(lu=n);if(null!==(t=t.sibling))return void(lu=t);lu=t=e}while(null!==t);0===gu&&(gu=5)}function oc(e,t){do{var n=ll(e.alternate,e);if(null!==n)return n.flags&=32767,void(lu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(lu=e);lu=e=n}while(null!==e);gu=6,lu=null}function ac(e,t,n,i,o,a,s,l,u){e.cancelPendingCommit=null;do{dc()}while(0!==Pu);if(6&au)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-ye(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,a|=Rr,s,l,u),e===su&&(lu=su=null,uu=0),Ru=t,Iu=e,Du=n,Lu=a,Ou=o,Mu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,te(ue,(function(){return hc(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=z.T,z.T=null,o=U.p,U.p=2,s=au,au|=4;try{!function(e,t){if(e=e.containerInfo,od=ah,or(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==i&&3!==h.nodeType||(u=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++d===i&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},ah=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(a=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var m=bs(n.type,o,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){pc(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))_d(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{au=s,U.p=o,z.T=i}}Pu=1,sc(),lc(),uc()}}function sc(){if(1===Pu){Pu=0;var e=Iu,t=Ru,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=z.T,z.T=null;var r=U.p;U.p=2;var i=au;au|=4;try{zl(t,e);var o=ad,a=ir(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&rr(s.ownerDocument.documentElement,s)){if(null!==l&&or(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=nr(s,m),v=nr(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var _=d.createRange();_.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(_),f.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),f.addRange(_))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ah=!!od,ad=od=null}finally{au=i,U.p=r,z.T=n}}e.current=t,Pu=2}}function lc(){if(2===Pu){Pu=0;var e=Iu,t=Ru,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=z.T,z.T=null;var r=U.p;U.p=2;var i=au;au|=4;try{Tl(e,t.alternate,t)}finally{au=i,U.p=r,z.T=n}}Pu=3}}function uc(){if(4===Pu||3===Pu){Pu=0,ie();var e=Iu,t=Ru,n=Du,r=Mu;10256&t.subtreeFlags||10256&t.flags?Pu=5:(Pu=0,Ru=Iu=null,cc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tu=null),Le(n),t=t.stateNode,me&&"function"==typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=z.T,i=U.p,U.p=2,z.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{z.T=t,U.p=i}}3&Du&&dc(),xc(e),i=e.pendingLanes,4194090&n&&42&i?e===Fu?Au++:(Au=0,Fu=e):Au=0,Nc(0)}}function cc(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function dc(e){return sc(),lc(),uc(),hc()}function hc(){if(5!==Pu)return!1;var e=Iu,t=Lu;Lu=0;var n=Le(Du),i=z.T,o=U.p;try{U.p=32>n?32:n,z.T=null,n=Ou,Ou=null;var a=Iu,s=Du;if(Pu=0,Ru=Iu=null,Du=0,6&au)throw Error(r(331));var l=au;if(au|=4,tu(a.current),Gl(a,a.current,s,n),au=l,Nc(0,!1),me&&"function"==typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(pe,a)}catch(e){}return!0}finally{U.p=o,z.T=i,cc(e,t)}}function fc(e,t,n){t=Tr(n,t),null!==(e=uo(e,t=Ns(e.stateNode,t,2),2))&&(Pe(e,2),xc(e))}function pc(e,t,n){if(3===e.tag)fc(e,e,n);else for(;null!==t;){if(3===t.tag){fc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Tu||!Tu.has(r))){e=Tr(n,e),null!==(r=uo(t,n=Ts(2),2))&&(Ps(n,r,t,e),Pe(r,2),xc(r));break}}t=t.return}}function mc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ou;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(pu=!0,i.add(n),e=gc.bind(null,e,t,n),t.then(e,e))}function gc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,su===e&&(uu&n)===n&&(4===gu||3===gu&&(62914560&uu)===uu&&300>oe()-Eu?!(2&au)&&Gu(e,0):_u|=n,wu===uu&&(wu=0)),xc(e)}function yc(e,t){0===t&&(t=Ne()),null!==(e=Mr(e,t))&&(Pe(e,t),xc(e))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),yc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),yc(e,n)}var bc=null,wc=null,kc=!1,Sc=!1,Cc=!1,Ec=0;function xc(e){e!==wc&&null===e.next&&(null===wc?bc=wc=e:wc=wc.next=e),Sc=!0,kc||(kc=!0,md((function(){6&au?te(se,Tc):Pc()})))}function Nc(e,t){if(!Cc&&Sc){Cc=!0;do{for(var n=!1,r=bc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-ye(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Dc(r,o))}else o=uu,!(3&(o=Se(r,r===su?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,o)||(n=!0,Dc(r,o));r=r.next}}while(n);Cc=!1}}function Tc(){Pc()}function Pc(){Sc=kc=!1;var e=0;0!==Ec&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==dd&&(dd=e,!0);return dd=null,!1}()&&(e=Ec),Ec=0);for(var t=oe(),n=null,r=bc;null!==r;){var i=r.next,o=Ic(r,t);0===o?(r.next=null,null===n?bc=i:n.next=i,null===i&&(wc=n)):(n=r,(0!==e||3&o)&&(Sc=!0)),r=i}Nc(e)}function Ic(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-ye(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=Ee(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=uu,n=Se(e,e===(t=su)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===cu||9===cu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ne(r),Le(n)){case 2:case 8:n=le;break;case 32:default:n=ue;break;case 268435456:n=de}return r=Rc.bind(null,e),n=te(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Rc(e,t){if(0!==Pu&&5!==Pu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var r=uu;return 0===(r=Se(e,e===su?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ju(e,r,t),Ic(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Rc.bind(null,e):null)}function Dc(e,t){if(dc())return null;ju(e,t,!0)}function Lc(){return 0===Ec&&(Ec=xe()),Ec}function Oc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Lt(""+e)}function Mc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ac=0;Ac<Er.length;Ac++){var Fc=Er[Ac];xr(Fc.toLowerCase(),"on"+(Fc[0].toUpperCase()+Fc.slice(1)))}xr(yr,"onAnimationEnd"),xr(vr,"onAnimationIteration"),xr(_r,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(br,"onTransitionRun"),xr(wr,"onTransitionStart"),xr(kr,"onTransitionCancel"),xr(Sr,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function qc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(e){ws(e)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(e){ws(e)}i.currentTarget=null,o=l}}}}function jc(e,t){var n=t[Ue];void 0===n&&(n=t[Ue]=new Set);var r=e+"__bubble";n.has(r)||(Vc(t,e,2,!1),n.add(r))}function Hc(e,t,n){var r=0;t&&(r|=4),Vc(n,e,r,t)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[Bc]){e[Bc]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Uc.has(t)||Hc(t,!1,e),Hc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bc]||(t[Bc]=!0,Hc("selectionchange",!1,t))}}function Vc(e,t,n,r){switch(fh(t)){case 2:var i=sh;break;case 8:i=lh;break;default:i=uh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $c(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==l;){if(null===(s=Ve(l)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=a=s;continue e}l=l.parentNode}}r=r.return}qt((function(){var r=a,i=Mt(n),s=[];e:{var l=Cr.get(e);if(void 0!==l){var u=rn,c=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":c="focus",u=cn;break;case"focusout":c="blur",u=cn;break;case"beforeblur":case"afterblur":u=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case yr:case vr:case _r:u=dn;break;case Sr:u=kn;break;case"scroll":case"scrollend":u=an;break;case"wheel":u=Sn;break;case"copy":case"cut":case"paste":u=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=Cn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=jt(m,f))&&d.push(Gc(m,g,p)),h)break;m=m.return}0<d.length&&(l=new u(l,c,null,n,i),s.push({event:l,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[ze])&&(u||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(h=o(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==u?l:Ge(u),p=null==c?l:Ge(c),(l=new d(g,m+"leave",u,n,i)).target=h,l.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",c,n,i)).target=p,d.relatedTarget=h,g=d),h=g,u&&c)e:{for(f=c,m=0,p=d=u;p;p=Yc(p))m++;for(p=0,g=f;g;g=Yc(g))p++;for(;0<m-p;)d=Yc(d),m--;for(;0<p-m;)f=Yc(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Yc(d),f=Yc(f)}d=null}else d=null;null!==u&&Kc(s,l,u,d,!1),null!==c&&null!==h&&Kc(s,h,c,d,!0)}if("select"===(u=(l=r?Ge(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var y=Hn;else if(An(l))if(Bn)y=Jn;else{y=Kn;var v=Yn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&It(r.elementType)&&(y=Hn):y=Xn;switch(y&&(y=y(e,r))?Fn(s,y,n,i):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&kt(l,"number",l.value)),v=r?Ge(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(sr=v,lr=r,ur=null);break;case"focusout":ur=lr=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(s,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":dr(s,n,i)}var _;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else On?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(On||"onCompositionStart"!==b?"onCompositionEnd"===b&&On&&(_=Qt()):($t="value"in(Vt=i)?Vt.value:Vt.textContent,On=!0)),0<(v=Qc(r,b)).length&&(b=new fn(b,e,null,n,i),s.push({event:b,listeners:v}),_?b.data=_:null!==(_=Ln(n))&&(b.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Rn=!0,In);case"textInput":return(e=t.data)===In&&Rn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!xn&&Dn(e,t)?(e=Qt(),Gt=$t=Vt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Qc(r,"onBeforeInput")).length&&(v=new fn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:b}),v.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Oc((i[Fe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Fe]||null)?Oc(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new rn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ec){var e=a?Mc(i,a):new FormData(i);Ma(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?Mc(i,a):new FormData(i),Ma(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}qc(s,t)}))}function Gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=jt(e,n))&&r.unshift(Gc(e,i,o)),null!=(i=jt(e,t))&&r.push(Gc(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Yc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=jt(n,o))&&a.unshift(Gc(n,u,l)):i||null!=(u=jt(n,o))&&a.push(Gc(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xc=/\r\n?/g,Jc=/\u0000|\uFFFD/g;function Zc(e){return("string"==typeof e?e:""+e).replace(Xc,"\n").replace(Jc,"")}function ed(e,t){return t=Zc(t),Zc(e)===t}function td(){}function nd(e,t,n,i,o,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||xt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&xt(e,""+i);break;case"className":at(e,"class",i);break;case"tabIndex":at(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,i);break;case"style":Pt(e,i,a);break;case"data":if("object"!==t){at(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&nd(e,t,"name",o.name,o,null),nd(e,t,"formEncType",o.formEncType,o,null),nd(e,t,"formMethod",o.formMethod,o,null),nd(e,t,"formTarget",o.formTarget,o,null)):(nd(e,t,"encType",o.encType,o,null),nd(e,t,"method",o.method,o,null),nd(e,t,"target",o.target,o,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=td);break;case"onScroll":null!=i&&jc("scroll",e);break;case"onScrollEnd":null!=i&&jc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Lt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":jc("beforetoggle",e),jc("toggle",e),ot(e,"popover",i);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ot(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Rt.get(n)||n,i)}}function rd(e,t,n,i,o,a){switch(n){case"style":Pt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?xt(e,i):("number"==typeof i||"bigint"==typeof i)&&xt(e,""+i);break;case"onScroll":null!=i&&jc("scroll",e);break;case"onScrollEnd":null!=i&&jc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Fe]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ot(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function id(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jc("error",e),jc("load",e);var i,o=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:nd(e,t,i,s,n,null)}}return a&&nd(e,t,"srcSet",n.srcSet,n,null),void(o&&nd(e,t,"src",n.src,n,null));case"input":jc("invalid",e);var l=i=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:nd(e,t,o,d,n,null)}}return wt(e,i,l,u,c,s,a,!1),void mt(e);case"select":for(a in jc("invalid",e),o=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:nd(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!o,void(null!=t?St(e,!!o,t,!1):null!=n&&St(e,!!o,n,!0));case"textarea":for(s in jc("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:nd(e,t,s,l,n,null)}return Et(e,o,a,i),void mt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else nd(e,t,u,o,n,null);return;case"dialog":jc("beforetoggle",e),jc("toggle",e),jc("cancel",e),jc("close",e);break;case"iframe":case"object":jc("load",e);break;case"video":case"audio":for(o=0;o<zc.length;o++)jc(zc[o],e);break;case"image":jc("error",e),jc("load",e);break;case"details":jc("toggle",e);break;case"embed":case"source":case"link":jc("error",e),jc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:nd(e,t,c,o,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&rd(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&nd(e,t,l,o,n,null))}var od=null,ad=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ld(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ud(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function cd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var dd=null;var hd="function"==typeof setTimeout?setTimeout:void 0,fd="function"==typeof clearTimeout?clearTimeout:void 0,pd="function"==typeof Promise?Promise:void 0,md="function"==typeof queueMicrotask?queueMicrotask:void 0!==pd?function(e){return pd.resolve(null).then(e).catch(gd)}:hd;function gd(e){setTimeout((function(){throw e}))}function yd(e){return"head"===e}function vd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Ed(a.documentElement),2&n&&Ed(a.body),4&n)for(Ed(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Rh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Rh(t)}function _d(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_d(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function wd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var kd=null;function Sd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Cd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);We(e)}var xd=new Map,Nd=new Set;function Td(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Pd=U.d;U.d={f:function(){var e=Pd.f(),t=Vu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Fa(t):Pd.r(e)},D:function(e){Pd.D(e),Rd("dns-prefetch",e,null)},C:function(e,t){Pd.C(e,t),Rd("preconnect",e,t)},L:function(e,t,n){Pd.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+_t(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+_t(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+_t(n.imageSizes)+'"]')):i+='[href="'+_t(e)+'"]';var o=i;switch(t){case"style":o=Ld(e);break;case"script":o=Ad(e)}xd.has(o)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Od(o))||"script"===t&&r.querySelector(Fd(o))||(id(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}},m:function(e,t){Pd.m(e,t);var n=Id;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+_t(r)+'"][href="'+_t(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ad(e)}if(!xd.has(o)&&(e=c({rel:"modulepreload",href:e},t),xd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fd(o)))return}id(r=n.createElement("link"),"link",e),Ye(r),n.head.appendChild(r)}}},X:function(e,t){Pd.X(e,t);var n=Id;if(n&&e){var r=Qe(n).hoistableScripts,i=Ad(e),o=r.get(i);o||((o=n.querySelector(Fd(i)))||(e=c({src:e,async:!0},t),(t=xd.get(i))&&jd(e,t),Ye(o=n.createElement("script")),id(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Pd.S(e,t,n);var r=Id;if(r&&e){var i=Qe(r).hoistableStyles,o=Ld(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Od(o)))s.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xd.get(o))&&qd(e,n);var l=a=r.createElement("link");Ye(l),id(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Ud(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Pd.M(e,t);var n=Id;if(n&&e){var r=Qe(n).hoistableScripts,i=Ad(e),o=r.get(i);o||((o=n.querySelector(Fd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=xd.get(i))&&jd(e,t),Ye(o=n.createElement("script")),id(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Id="undefined"==typeof document?null:document;function Rd(e,t,n){var r=Id;if(r&&"string"==typeof t&&t){var i=_t(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Nd.has(i)||(Nd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(id(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}}function Dd(e,t,n,i){var o,a,s,l,u=(u=Q.current)?Td(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ld(n.href),(i=(n=Qe(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ld(n.href);var c=Qe(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Od(e)))&&!c._p&&(d.instance=c,d.state.loading=5),xd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xd.set(e,n),c||(o=u,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),id(a,"link",s),Ye(a),o.head.appendChild(a))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ad(n),(i=(n=Qe(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ld(e){return'href="'+_t(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Md(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Ad(e){return'[src="'+_t(e)+'"]'}function Fd(e){return"script[async]"+e}function zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+_t(n.href)+'"]');if(i)return t.instance=i,Ye(i),i;var o=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(i=(e.ownerDocument||e).createElement("style")),id(i,"style",o),Ud(i,n.precedence,e),t.instance=i;case"stylesheet":o=Ld(n.href);var a=e.querySelector(Od(o));if(a)return t.state.loading|=4,t.instance=a,Ye(a),a;i=Md(n),(o=xd.get(o))&&qd(i,o),Ye(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),id(a,"link",i),t.state.loading|=4,Ud(a,n.precedence,e),t.instance=a;case"script":return a=Ad(n.src),(o=e.querySelector(Fd(a)))?(t.instance=o,Ye(o),o):(i=n,(o=xd.get(a))&&jd(i=c({},n),o),Ye(o=(e=e.ownerDocument||e).createElement("script")),id(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ud(i,n.precedence,e));return t.instance}function Ud(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Hd=null;function Bd(e,t,n){if(null===Hd){var r=new Map,i=Hd=new Map;i.set(n,r)}else(r=(i=Hd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Be]||o[Ae]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Wd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var $d=null;function Gd(){}function Qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yd=new Map,t.forEach(Xd,e),Yd=null,Qd.call(e))}function Xd(e,t){if(!(4&t.state.loading)){var n=Yd.get(e);if(n)var r=n.get(null);else{n=new Map,Yd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Jd={$$typeof:E,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Zd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function eh(e,t,n,r,i,o,a,s,l,u,c,d){return e=new Zd(e,t,n,a,s,l,u,d),t=1,!0===o&&(t|=24),o=qr(3,null,null,t),e.current=o,o.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},ao(o),e}function th(e){return e?e=zr:zr}function nh(e,t,n,r,i,o){i=th(i),null===r.context?r.context=i:r.pendingContext=i,(r=lo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=uo(e,r,t))&&(qu(n,0,t),co(n,e,t))}function rh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ih(e,t){rh(e,t),(e=e.alternate)&&rh(e,t)}function oh(e){if(13===e.tag){var t=Mr(e,67108864);null!==t&&qu(t,0,67108864),ih(e,67108864)}}var ah=!0;function sh(e,t,n,r){var i=z.T;z.T=null;var o=U.p;try{U.p=2,uh(e,t,n,r)}finally{U.p=o,z.T=i}}function lh(e,t,n,r){var i=z.T;z.T=null;var o=U.p;try{U.p=8,uh(e,t,n,r)}finally{U.p=o,z.T=i}}function uh(e,t,n,r){if(ah){var i=ch(r);if(null===i)$c(e,t,r,dh,n),kh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return mh=Sh(mh,e,t,n,r,i),!0;case"dragenter":return gh=Sh(gh,e,t,n,r,i),!0;case"mouseover":return yh=Sh(yh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vh.set(o,Sh(vh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_h.set(o,Sh(_h.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(kh(e,r),4&t&&-1<wh.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ke(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-ye(a);s.entanglements[1]|=l,a&=~l}xc(o),!(6&au)&&(xu=oe()+500,Nc(0))}}break;case 13:null!==(s=Mr(o,2))&&qu(s,0,2),Vu(),ih(o,2)}if(null===(o=ch(r))&&$c(e,t,r,dh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $c(e,t,r,null,n)}}function ch(e){return hh(e=Mt(e))}var dh=null;function hh(e){if(dh=null,null!==(e=Ve(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dh=e,null}function fh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case se:return 2;case le:return 8;case ue:case ce:return 32;case de:return 268435456;default:return 32}default:return 32}}var ph=!1,mh=null,gh=null,yh=null,vh=new Map,_h=new Map,bh=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kh(e,t){switch(e){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":gh=null;break;case"mouseover":case"mouseout":yh=null;break;case"pointerover":case"pointerout":vh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function Sh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&oh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ch(e){var t=Ve(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}(e.priority,(function(){if(13===n.tag){var e=zu();e=De(e);var t=Mr(n,e);null!==t&&qu(t,0,e),ih(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Eh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ch(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&oh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function xh(e,t,n){Eh(e)&&n.delete(t)}function Nh(){ph=!1,null!==mh&&Eh(mh)&&(mh=null),null!==gh&&Eh(gh)&&(gh=null),null!==yh&&Eh(yh)&&(yh=null),vh.forEach(xh),_h.forEach(xh)}function Th(t,n){t.blockedOn===n&&(t.blockedOn=null,ph||(ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nh)))}var Ph=null;function Ih(t){Ph!==t&&(Ph=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,(function(){Ph===t&&(Ph=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===hh(r||n))continue;break}var o=$e(n);null!==o&&(t.splice(e,3),e-=3,Ma(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Rh(e){function t(t){return Th(t,e)}null!==mh&&Th(mh,e),null!==gh&&Th(gh,e),null!==yh&&Th(yh,e),vh.forEach(t),_h.forEach(t);for(var n=0;n<bh.length;n++){var r=bh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bh.length&&null===(n=bh[0]).blockedOn;)Ch(n),null===n.blockedOn&&bh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Fe]||null;if("function"==typeof o)a||Ih(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Fe]||null)s=a.formAction;else if(null!==hh(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ih(n)}}}function Dh(e){this._internalRoot=e}function Lh(e){this._internalRoot=e}Lh.prototype.render=Dh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));nh(t.current,zu(),e,t,null,null)},Lh.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;nh(e.current,2,null,e,null,null),Vu(),t[ze]=null}},Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bh.length&&0!==t&&t<bh[n].priority;n++);bh.splice(n,0,e),0===n&&Ch(e)}};var Oh=t.version;if("19.1.0"!==Oh)throw Error(r(527,Oh,"19.1.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===i)return l(a),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var u=!1,c=a.child;c;){if(c===n){u=!0,n=a,i=s;break}if(c===i){u=!0,i=a,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,i=a;break}if(c===i){u=!0,i=s,n=a;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Mh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{pe=Ah.inject(Mh),me=Ah}catch(e){}}return h.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,o="",a=ks,s=Ss,l=Cs;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=eh(e,1,!1,null,0,n,o,a,s,l,0,null),e[ze]=t.current,Wc(e),new Dh(t)},h.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var o=!1,a="",s=ks,l=Ss,u=Cs,c=null;return null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=eh(e,1,!0,t,0,o,a,s,l,u,0,c)).context=th(null),n=t.current,(a=lo(o=De(o=zu()))).callback=null,uo(n,a,o),n=o,t.current.lanes=n,Pe(t,n),xc(t),e[ze]=t.current,Wc(e),new Lh(t)},h.version="19.1.0",h}var C=(_||(_=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),d.exports=S()),d.exports);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){x(o,r,i,a,s,"next",e)}function s(e){x(o,r,i,a,s,"throw",e)}a(void 0)}))}}function T(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){D=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function _(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==n&&r.call(k,a)&&(b=k);var S=_.prototype=y.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?m:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=_,i(S,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:v,configurable:!0}),v.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function A(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}var F,z,U=function(e){var t=e.onGameStart,n=L(u.useState({totalPlayers:8,werewolves:2,seers:1,bodyguards:1,gameCode:Math.random().toString(36).substring(2,8).toUpperCase(),gameMasterName:"Game Master"}),2),r=n[0],i=n[1],o=function(){var e=N(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("Setup: Submitting form with config:",r),e.prev=2,e.next=5,t(R(R({},r),{},{players:[r.gameMasterName]}));case 5:console.log("Setup: Game start completed"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Setup: Error starting game:",e.t0),alert("Failed to start game: "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a=function(e){var t=e.target,n=t.name,r=t.value;i((function(e){return R(R({},e),{},P({},n,parseInt(r,10)))}))};return c.createElement("div",{className:"setup-form"},c.createElement("h2",null,"Game Setup"),c.createElement("p",{className:"game-code"},"Game Code: ",c.createElement("strong",null,r.gameCode)),c.createElement("p",{className:"setup-instructions"},"Share this code with players to join the game"),c.createElement("form",{onSubmit:o},c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"gameMasterName"},"Your Name (Game Master)"),c.createElement("input",{type:"text",id:"gameMasterName",name:"gameMasterName",value:r.gameMasterName,onChange:function(e){return i((function(t){return R(R({},t),{},{gameMasterName:e.target.value})}))},required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"totalPlayers"},"Total Players (6-16)"),c.createElement("input",{type:"number",id:"totalPlayers",name:"totalPlayers",min:"6",max:"16",value:r.totalPlayers,onChange:a,required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"werewolves"},"Number of Werewolves"),c.createElement("input",{type:"number",id:"werewolves",name:"werewolves",min:"1",max:"4",value:r.werewolves,onChange:a,required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"seers"},"Number of Seers"),c.createElement("input",{type:"number",id:"seers",name:"seers",min:"0",max:"1",value:r.seers,onChange:a,required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"bodyguards"},"Number of Bodyguards"),c.createElement("input",{type:"number",id:"bodyguards",name:"bodyguards",min:"0",max:"1",value:r.bodyguards,onChange:a,required:!0})),c.createElement("div",{className:"role-descriptions"},c.createElement("h3",null,"Role Descriptions"),c.createElement("ul",null,c.createElement("li",null,c.createElement("strong",null,"Werewolves:")," Eliminate one player each night. Work together to eliminate all villagers."),c.createElement("li",null,c.createElement("strong",null,"Seers:")," Check one player's role each night to determine if they are a werewolf."),c.createElement("li",null,c.createElement("strong",null,"Bodyguards:")," Protect one player each night from being eliminated. Cannot protect the same player twice in a row."),c.createElement("li",null,c.createElement("strong",null,"Villagers:")," Regular players trying to identify and eliminate the werewolves."))),c.createElement("button",{type:"submit",className:"start-game-btn"},"Start Game")))},q=function(e){var t=e.onJoin,n=L(u.useState(""),2),r=n[0],i=n[1],o=L(u.useState(""),2),a=o[0],s=o[1],l=L(u.useState(""),2),d=l[0],h=l[1],f=L(u.useState(!1),2),p=f[0],m=f[1];u.useEffect((function(){var e=new URLSearchParams(window.location.search).get("code");e&&s(e.toUpperCase())}),[]);var g=function(){var e=N(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r.trim()){e.next=4;break}return h("Please enter your name"),e.abrupt("return");case 4:if(a.trim()){e.next=7;break}return h("Please enter the game code"),e.abrupt("return");case 7:return e.prev=7,m(!0),h(""),console.log("Attempting to join game:",{playerName:r,gameCode:a}),e.next=13,t({playerName:r,gameCode:a});case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),console.error("Error joining game:",e.t0),h(e.t0.message||"Failed to join game");case 19:return e.prev=19,m(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,15,19,22]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement("div",{className:"player-join"},c.createElement("h2",null,"Join Game"),c.createElement("form",{onSubmit:g},c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"playerName"},"Your Name:"),c.createElement("input",{type:"text",id:"playerName",value:r,onChange:function(e){return i(e.target.value)},placeholder:"Enter your name",disabled:p,autoFocus:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"gameCode"},"Game Code:"),c.createElement("input",{type:"text",id:"gameCode",value:a,onChange:function(e){return s(e.target.value.toUpperCase())},placeholder:"Enter game code",maxLength:6,disabled:p})),d&&c.createElement("p",{className:"error-message"},d),c.createElement("button",{type:"submit",className:"join-game-btn",disabled:p},p?"Joining...":"Join Game")))},j=function(e){var t=e.onGameStart,n=e.onJoin,r=L(u.useState(!1),2),i=r[0],o=r[1],a=L(u.useState(!1),2),s=a[0],l=a[1];u.useEffect((function(){new URLSearchParams(window.location.search).get("code")&&l(!0)}),[]);var d=function(){var e=N(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GameSetup: Starting game with config:",n),e.prev=1,e.next=4,t(n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("GameSetup: Error starting game:",e.t0),alert("Failed to start game: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return i?c.createElement(U,{onGameStart:d}):s?c.createElement(q,{onJoin:n}):c.createElement("div",{className:"game-setup"},c.createElement("h2",null,"Welcome to Lupus in Tabula"),c.createElement("p",{className:"setup-instructions"},"Choose whether to create a new game or join an existing one"),c.createElement("div",{className:"setup-options"},c.createElement("button",{className:"setup-option-btn create-btn",onClick:function(){return o(!0)}},"Create New Game"),c.createElement("button",{className:"setup-option-btn join-btn",onClick:function(){return l(!0)}},"Join Existing Game")))},H=Object.defineProperty,B=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;(e=>{const t=class{constructor(e,n,r,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let a=[];for(let e=0;e<this.size;e++)a.push(!1);for(let e=0;e<this.size;e++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const s=this.addEccAndInterleave(r);if(this.drawCodewords(s),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}o(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){const i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,n,i=1,a=40,l=-1,u=!0){if(!(t.MIN_VERSION<=i&&i<=a&&a<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let c,d;for(c=i;;c++){const r=8*t.getNumDataCodewords(c,n),i=s.getTotalBits(e,c);if(i<=r){d=i;break}if(c>=a)throw new RangeError("Data too long")}for(const e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&d<=8*t.getNumDataCodewords(c,e)&&(n=e);let h=[];for(const t of e){r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(c),h);for(const e of t.getData())h.push(e)}o(h.length==d);const f=8*t.getNumDataCodewords(c,n);o(h.length<=f),r(0,Math.min(4,f-h.length),h),r(0,(8-h.length%8)%8,h),o(h.length%8==0);for(let e=236;h.length<f;e^=253)r(e,8,h);let p=[];for(;8*p.length<h.length;)p.push(0);return h.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(c,n,p,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let e=0;e<10;e++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);o(r>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,i(r,e));this.setFunctionModule(8,7,i(r,6)),this.setFunctionModule(8,8,i(r,7)),this.setFunctionModule(7,8,i(r,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,i(r,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,i(r,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,i(r,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;o(t>>>18==0);for(let e=0;e<18;e++){const n=i(t,e),r=this.size-11+e%3,o=Math.floor(e/3);this.setFunctionModule(r,o,n),this.setFunctionModule(o,r,n)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),o=e+r,a=t+n;0<=o&&o<this.size&&0<=a&&a<this.size&&this.setFunctionModule(o,a,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),l=i-s%i,u=Math.floor(s/i);let c=[];const d=t.reedSolomonComputeDivisor(a);for(let n=0,r=0;n<i;n++){let i=e.slice(r,r+u-a+(n<l?0:1));r+=i.length;const o=t.reedSolomonComputeRemainder(i,d);n<l&&i.push(0),c.push(i.concat(o))}let h=[];for(let e=0;e<c[0].length;e++)c.forEach(((t,n)=>{(e!=u-a||n>=l)&&h.push(t[e])}));return o(h.length==s),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let o=0;o<2;o++){const a=t-o,s=!(t+1&2)?this.size-1-r:r;!this.isFunction[s][a]&&n<8*e.length&&(this.modules[s][a]=i(e[n>>>3],7-(7&n)),n++)}}o(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let r=!1,i=0,o=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[n][a]==r?(i++,5==i?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,o),r||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),r=this.modules[n][a],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,o)*t.PENALTY_N3}for(let n=0;n<this.size;n++){let r=!1,i=0,o=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[a][n]==r?(i++,5==i?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,o),r||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),r=this.modules[a][n],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,o)*t.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let r=0;r<this.size-1;r++){const i=this.modules[n][r];i==this.modules[n][r+1]&&i==this.modules[n+1][r]&&i==this.modules[n+1][r+1]&&(e+=t.PENALTY_N2)}let n=0;for(const e of this.modules)n=e.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return o(0<=i&&i<=9),e+=i*t.PENALTY_N4,o(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return o(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const i of e){const e=i^r.shift();r.push(0),n.forEach(((n,i)=>r[i]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return o(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];o(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function i(e,t){return!!(e>>>t&1)}function o(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const a=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)r(n,8,t);return new a(a.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!a.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){const i=Math.min(e.length-n,3);r(parseInt(e.substr(n,i),10),3*i+1,t),n+=i}return new a(a.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!a.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,n=[];for(t=0;t+2<=e.length;t+=2){let i=45*a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));i+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(i,11,n)}return t<e.length&&r(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new a(a.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,t),r(e,21,t)}return new a(a.Mode.ECI,0,t)}static isNumeric(e){return a.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return a.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let s=a;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=s})(F||(F={})),(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})((z=F||(F={})).QrCode||(z.QrCode={})),(e=>{(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(e.QrSegment||(e.QrSegment={}))})(F||(F={}));var G=F,Q={L:G.QrCode.Ecc.LOW,M:G.QrCode.Ecc.MEDIUM,Q:G.QrCode.Ecc.QUARTILE,H:G.QrCode.Ecc.HIGH},Y=128,K="L",X="#FFFFFF",J="#000000",Z=!1;
/**
	 * @license qrcode.react
	 * Copyright (c) Paul O'Shannessy
	 * SPDX-License-Identifier: ISC
	 */function ee(e){const t=e,{value:n,size:r=Y,level:i=K,bgColor:o=X,fgColor:a=J,includeMargin:s=Z,imageSettings:l}=t,u=((e,t)=>{var n={};for(var r in e)W.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&B)for(var r of B(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n})(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=G.QrCode.encodeText(n,Q[i]).getModules();const h=s?4:0,f=d.length+2*h,p=function(e,t,n,r){if(null==r)return null;const i=n?4:0,o=e.length+2*i,a=Math.floor(.1*t),s=o/t,l=(r.width||a)*s,u=(r.height||a)*s,c=null==r.x?e.length/2-l/2:r.x*s,d=null==r.y?e.length/2-u/2:r.y*s;let h=null;if(r.excavate){let e=Math.floor(c),t=Math.floor(d);h={x:e,y:t,w:Math.ceil(l+c-e),h:Math.ceil(u+d-t)}}return{x:c,y:d,h:u,w:l,excavation:h}}(d,r,s,l);let m=null;var g,y;null!=l&&null!=p&&(null!=p.excavation&&(g=d,y=p.excavation,d=g.slice().map(((e,t)=>t<y.y||t>=y.y+y.h?e:e.map(((e,t)=>(t<y.x||t>=y.x+y.w)&&e))))),m=c.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const v=function(e,t=0){const n=[];return e.forEach((function(e,r){let i=null;e.forEach((function(o,a){if(!o&&null!==i)return n.push(`M${i+t} ${r+t}h${a-i}v1H${i+t}z`),void(i=null);if(a!==e.length-1)o&&null===i&&(i=a);else{if(!o)return;null===i?n.push(`M${a+t},${r+t} h1v1H${a+t}z`):n.push(`M${i+t},${r+t} h${a+1-i}v1H${i+t}z`)}}))})),n.join("")}(d,h);return c.createElement("svg",((e,t)=>{for(var n in t||(t={}))W.call(t,n)&&$(e,n,t[n]);if(B)for(var n of B(t))V.call(t,n)&&$(e,n,t[n]);return e})({height:r,width:r,viewBox:`0 0 ${f} ${f}`},u),c.createElement("path",{fill:o,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),c.createElement("path",{fill:a,d:v,shapeRendering:"crispEdges"}),m)}!function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}}();var te=function(e){var t=e.gameCode,n="https://rmarchet.github.io/lupus/?code=".concat(t);return c.createElement("div",{className:"qr-code-container"},c.createElement(ee,{value:n,size:200,level:"H",includeMargin:!0,className:"qr-code"}),c.createElement("p",{className:"qr-code-text"},"Scan to join the game"),c.createElement("p",{className:"qr-code-url"},n))};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const ne="${JSCORE_VERSION}",re=function(e,t){if(!e)throw ie(t)},ie=function(e){return new Error("Firebase Database ("+ne+") INTERNAL ASSERT FAILED: "+e)},oe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new se;const l=i<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(e){const t=oe(e);return ae.encodeByteArray(t,!0)},ue=function(e){return le(e).replace(/\./g,"")},ce=function(e){try{return ae.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function de(e){return he(void 0,e)}function he(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=he(e[n],t[n]));return e}
/**
	 * @license
	 * Copyright 2022 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
const fe=()=>
/**
	 * @license
	 * Copyright 2022 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pe=()=>{try{return fe()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&ce(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},me=e=>{const t=(e=>{var t,n;return null===(n=null===(t=pe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ge=()=>{var e;return null===(e=pe())||void 0===e?void 0:e.config};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}class _e extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(we,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new _e(r,a,n)}}const we=/\{\$([^}]+)}/g;
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function ke(e){return JSON.parse(e)}function Se(e){return JSON.stringify(e)}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Ce=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ke(ce(o[0])||""),n=ke(ce(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function Ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ne(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Te(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Pe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ie(n)&&Ie(o)){if(!Pe(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Ie(e){return null!==e&&"object"==typeof e}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Re{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):e<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const t=(o<<5|o>>>27)+r+u+i+n[e]&4294967295;u=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function De(e,t){return`${e} failed: ${t} argument `}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Le=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function Oe(e){return e&&e._delegate?e._delegate:e}class Me{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Ae="[DEFAULT]";
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Fe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ye;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Ae){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Ae){return this.instances.has(e)}getOptions(e=Ae){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Ae?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=Ae){return this.component?this.component.multipleInstances?e:Ae:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */var Ue;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ue||(Ue={}));const qe={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},je=Ue.INFO,He={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Be=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=He[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class We{constructor(e){this.name=e,this._logLevel=je,this._logHandler=Be,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}let Ve,$e;const Ge=new WeakMap,Qe=new WeakMap,Ye=new WeakMap,Ke=new WeakMap,Xe=new WeakMap;let Je={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ye.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ze(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($e||($e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nt(this),t),tt(Ge.get(this))}:function(...t){return tt(e.apply(nt(this),t))}:function(t,...n){const r=e.call(nt(this),t,...n);return Ye.set(r,t.sort?t.sort():[t]),tt(r)}}function et(e){return"function"==typeof e?Ze(e):(e instanceof IDBTransaction&&function(e){if(Qe.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qe.set(e,t)}(e),t=e,(Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Je):e);var t}function tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(tt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ge.set(t,e)})).catch((()=>{})),Xe.set(t,e),t}(e);if(Ke.has(e))return Ke.get(e);const t=et(e);return t!==e&&(Ke.set(e,t),Xe.set(t,e)),t}const nt=e=>Xe.get(e);const rt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],ot=new Map;function at(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ot.get(t))return ot.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=it.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rt.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return ot.set(t,o),o}Je=(e=>({...e,get:(t,n,r)=>at(t,n)||e.get(t,n,r),has:(t,n)=>!!at(t,n)||e.has(t,n)}))(Je);
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class st{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const lt="@firebase/app",ut="0.10.13",ct=new We("@firebase/app"),dt="@firebase/app-compat",ht="@firebase/analytics-compat",ft="@firebase/analytics",pt="@firebase/app-check-compat",mt="@firebase/app-check",gt="@firebase/auth",yt="@firebase/auth-compat",vt="@firebase/database",_t="@firebase/data-connect",bt="@firebase/database-compat",wt="@firebase/functions",kt="@firebase/functions-compat",St="@firebase/installations",Ct="@firebase/installations-compat",Et="@firebase/messaging",xt="@firebase/messaging-compat",Nt="@firebase/performance",Tt="@firebase/performance-compat",Pt="@firebase/remote-config",It="@firebase/remote-config-compat",Rt="@firebase/storage",Dt="@firebase/storage-compat",Lt="@firebase/firestore",Ot="@firebase/vertexai-preview",Mt="@firebase/firestore-compat",At="firebase",Ft="[DEFAULT]",zt={[lt]:"fire-core",[dt]:"fire-core-compat",[ft]:"fire-analytics",[ht]:"fire-analytics-compat",[mt]:"fire-app-check",[pt]:"fire-app-check-compat",[gt]:"fire-auth",[yt]:"fire-auth-compat",[vt]:"fire-rtdb",[_t]:"fire-data-connect",[bt]:"fire-rtdb-compat",[wt]:"fire-fn",[kt]:"fire-fn-compat",[St]:"fire-iid",[Ct]:"fire-iid-compat",[Et]:"fire-fcm",[xt]:"fire-fcm-compat",[Nt]:"fire-perf",[Tt]:"fire-perf-compat",[Pt]:"fire-rc",[It]:"fire-rc-compat",[Rt]:"fire-gcs",[Dt]:"fire-gcs-compat",[Lt]:"fire-fst",[Mt]:"fire-fst-compat",[Ot]:"fire-vertex","fire-js":"fire-js",[At]:"fire-js-all"},Ut=new Map,qt=new Map,jt=new Map;function Ht(e,t){try{e.container.addComponent(t)}catch(n){ct.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bt(e){const t=e.name;if(jt.has(t))return ct.debug(`There were multiple attempts to register component ${t}.`),!1;jt.set(t,e);for(const t of Ut.values())Ht(t,e);for(const t of qt.values())Ht(t,e);return!0}
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
const Wt=new be("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Vt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Me("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function $t(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Wt.create("bad-app-name",{appName:String(i)});if(n||(n=ge()),!n)throw Wt.create("no-options");const o=Ut.get(i);if(o){if(Pe(n,o.options)&&Pe(r,o.config))return o;throw Wt.create("duplicate-app",{appName:i})}const a=new ze(i);for(const e of jt.values())a.addComponent(e);const s=new Vt(n,r,a);return Ut.set(i,s),s}function Gt(e,t,n){var r;let i=null!==(r=zt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ct.warn(e.join(" "))}Bt(new Me(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Qt="firebase-heartbeat-store";let Yt=null;function Kt(){return Yt||(Yt=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=tt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(tt(a.result),e.oldVersion,e.newVersion,tt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Qt)}catch(e){console.warn(e)}}}).catch((e=>{throw Wt.create("idb-open",{originalErrorMessage:e.message})}))),Yt}async function Xt(e,t){try{const n=(await Kt()).transaction(Qt,"readwrite"),r=n.objectStore(Qt);await r.put(t,Jt(e)),await n.done}catch(e){if(e instanceof _e)ct.warn(e.message);else{const t=Wt.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ct.warn(t.message)}}}function Jt(e){return`${e.name}!${e.options.appId}`}
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Zt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=en();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(e){ct.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=en(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),nn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ue(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ct.warn(e),""}}}function en(){return(new Date).toISOString().substring(0,10)}class tn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Kt()).transaction(Qt),n=await t.objectStore(Qt).get(Jt(e));return await t.done,n}catch(e){if(e instanceof _e)ct.warn(e.message);else{const t=Wt.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ct.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nn(e){return ue(JSON.stringify({version:2,heartbeats:e})).length}
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */var rn;rn="",Bt(new Me("platform-logger",(e=>new st(e)),"PRIVATE")),Bt(new Me("heartbeat",(e=>new Zt(e)),"PRIVATE")),Gt(lt,ut,rn),Gt(lt,ut,"esm2017"),Gt("fire-js","");const on="@firebase/database",an="1.0.8";
/**
	 * @license
	 * Copyright 2019 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
let sn="";
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class ln{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Se(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ke(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class un{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ee(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const cn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ln(t)}}catch(e){}return new un},dn=cn("localStorage"),hn=cn("sessionStorage"),fn=new We("@firebase/database"),pn=function(){let e=1;return function(){return e++}}(),mn=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,re(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Re;n.update(t);const r=n.digest();return ae.encodeByteArray(r)},gn=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=gn.apply(null,r):t+="object"==typeof r?Se(r):r,t+=" "}return t};let yn=null,vn=!0;const _n=function(...e){if(!0===vn&&(vn=!1,null===yn&&!0===hn.get("logging_enabled")&&(re(!0,"Can't turn on custom loggers persistently."),fn.logLevel=Ue.VERBOSE,yn=fn.log.bind(fn))),yn){const t=gn.apply(null,e);yn(t)}},bn=function(e){return function(...t){_n(e,...t)}},wn=function(...e){const t="FIREBASE INTERNAL ERROR: "+gn(...e);fn.error(t)},kn=function(...e){const t=`FIREBASE FATAL ERROR: ${gn(...e)}`;throw fn.error(t),new Error(t)},Sn=function(...e){const t="FIREBASE WARNING: "+gn(...e);fn.warn(t)},Cn=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},En="[MIN_NAME]",xn="[MAX_NAME]",Nn=function(e,t){if(e===t)return 0;if(e===En||t===xn)return-1;if(t===En||e===xn)return 1;{const n=Mn(e),r=Mn(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Tn=function(e,t){return e===t?0:e<t?-1:1},Pn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Se(t))},In=function(e){if("object"!=typeof e||null===e)return Se(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Se(t[r]),n+=":",n+=In(e[t[r]]);return n+="}",n},Rn=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Dn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ln=function(e){re(!Cn(e),"Invalid JSON number");const t=1023;let n,r,i,o,a;0===e?(r=0,i=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const s=[];for(a=52;a;a-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let u="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const On=new RegExp("^-?(0*)\\d{1,10}$"),Mn=function(e){if(On.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},An=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw Sn("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Fn=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class zn{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Sn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Un{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sn(e)}}class qn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qn.OWNER="owner";
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
const jn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hn="ac",Bn="websocket",Wn="long_polling";
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Vn{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dn.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function $n(e,t,n){let r;if(re("string"==typeof t,"typeof type must == string"),re("object"==typeof n,"typeof params must == object"),t===Bn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Wn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Dn(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Gn{constructor(){this.counters_={}}incrementCounter(e,t=1){Ee(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return de(this.counters_)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Qn={},Yn={};function Kn(e){const t=e.toString();return Qn[t]||(Qn[t]=new Gn),Qn[t]}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Xn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&An((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Jn="start";class Zn{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bn(e),this.stats_=Kn(t),this.urlFn=e=>(this.appCheckToken&&(e[Hn]=this.appCheckToken),$n(t,Wn,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new er(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Jn)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Jn]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Hn]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&jn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zn.forceAllow_=!0}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){return!!Zn.forceAllow_||!(Zn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Se(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=le(t),r=Rn(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Se(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class er{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=er.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){_n("frame writing exception"),e.stack&&_n(e.stack),_n(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_n("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{_n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let tr=null;"undefined"!=typeof MozWebSocket?tr=MozWebSocket:"undefined"!=typeof WebSocket&&(tr=WebSocket);class nr{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bn(this.connId),this.stats_=Kn(t),this.connURL=nr.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&jn.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Hn]=r),i&&(o.p=i),$n(e,Bn,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dn.set("previous_websocket_failure",!0);try{let e;this.mySock=new tr(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tr&&!nr.forceDisallow_}static previouslyFailed(){return dn.isInMemoryStorage||!0===dn.get("previous_websocket_failure")}markConnectionHealthy(){dn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ke(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(re(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Se(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Rn(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nr.responsesRequiredToBeHealthy=2,nr.healthyTimeout=3e4;
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class rr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zn,nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=nr&&nr.isAvailable();let n=t&&!nr.previouslyFailed();if(e.webSocketOnly&&(t||Sn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[nr];else{const e=this.transports_=[];for(const t of rr.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rr.globalTransportInitialized_=!1;class ir{constructor(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bn("c:"+this.id+":"),this.transportManager_=new rr(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fn((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pn("t",e),n=Pn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pn("t",e),n=Pn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pn("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?wn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wn("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Sn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Fn((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fn((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class or{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class ar{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){re(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class sr extends ar{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||ve()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new sr}getInitialEvent(e){return re("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class lr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ur(){return new lr("")}function cr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dr(e){return e.pieces_.length-e.pieceNum_}function hr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new lr(e.pieces_,t)}function fr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pr(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function mr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lr(t,0)}function gr(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof lr)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new lr(n,0)}function yr(e){return e.pieceNum_>=e.pieces_.length}function vr(e,t){const n=cr(e),r=cr(t);if(null===n)return t;if(n===r)return vr(hr(e),hr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _r(e,t){if(dr(e)!==dr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function br(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(dr(e)>dr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class wr{constructor(e,t){this.errorPrefix_=t,this.parts_=pr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=Le(this.parts_[e]);kr(this)}}function kr(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sr(e))}function Sr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Cr extends ar{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Cr}getInitialEvent(e){return re("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Er=1e3;class xr extends or{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=xr.nextPersistentConnectionId_++,this.log_=bn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Er,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cr.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&sr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Se(i)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new ye,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;xr.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Ee(e,"w")){const n=xe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Sn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ce(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ce(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Se(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):wn("Unrecognized action received from server: "+Se(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Er),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new ir(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Sn(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&Sn(e),s())}}}interrupt(e){_n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ne(this.interruptReasons_)&&(this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>In(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new lr(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){_n("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){_n("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+sn.replace(/\./g,"-")]=1,ve()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sr.getInstance().currentlyOnline();return Ne(this.interruptReasons_)&&e}}xr.nextPersistentConnectionId_=0,xr.nextConnectionId_=0;
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Nr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Nr(e,t)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Tr{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Nr(En,e),r=new Nr(En,t);return 0!==this.compare(n,r)}minPost(){return Nr.MIN}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Pr;class Ir extends Tr{static get __EMPTY_NODE(){return Pr}static set __EMPTY_NODE(e){Pr=e}compare(e,t){return Nn(e.name,t.name)}isDefinedOn(e){throw ie("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Nr.MIN}maxPost(){return new Nr(xn,Pr)}makePost(e,t){return re("string"==typeof e,"KeyIndex indexValue must always be a string."),new Nr(e,Pr)}toString(){return".key"}}const Rr=new Ir;
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Dr{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Lr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lr.RED,this.left=null!=r?r:Or.EMPTY_NODE,this.right=null!=i?i:Or.EMPTY_NODE}copy(e,t,n,r,i){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Or.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Or.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Lr.RED=!0,Lr.BLACK=!1;class Or{constructor(e,t=Or.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Or(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Or(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Dr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Dr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Dr(this.root_,null,this.comparator_,!0,e)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function Mr(e,t){return Nn(e.name,t.name)}function Ar(e,t){return Nn(e,t)}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Fr;Or.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Lr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zr=function(e){return"number"==typeof e?"number:"+Ln(e):"string:"+e},Ur=function(e){if(e.isLeafNode()){const t=e.val();re("string"==typeof t||"number"==typeof t||"object"==typeof t&&Ee(t,".sv"),"Priority must be a string or number.")}else re(e===Fr||e.isEmpty(),"priority of unexpected type.");re(e===Fr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
let qr,jr,Hr;class Br{constructor(e,t=Br.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,re(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ur(this.priorityNode_)}static set __childrenNodeConstructor(e){qr=e}static get __childrenNodeConstructor(){return qr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Br(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Br.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return yr(e)?this:".priority"===cr(e)?this.priorityNode_:Br.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Br.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=cr(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(re(".priority"!==n||1===dr(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Br.__childrenNodeConstructor.EMPTY_NODE.updateChild(hr(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ln(this.value_):this.value_,this.lazyHash_=mn(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Br.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Br.__childrenNodeConstructor?-1:(re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Br.VALUE_TYPE_ORDER.indexOf(t),i=Br.VALUE_TYPE_ORDER.indexOf(n);return re(r>=0,"Unknown leaf type: "+t),re(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Br.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Wr=new class extends Tr{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Nn(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Nr.MIN}maxPost(){return new Nr(xn,new Br("[PRIORITY-POST]",Hr))}makePost(e,t){const n=jr(e);return new Nr(t,new Br("[PRIORITY-POST]",n))}toString(){return".priority"}},Vr=Math.log(2);
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class $r{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Vr,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gr=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new Lr(s,a.node,Lr.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return a=e[l],s=n?n(a):a,new Lr(s,a.node,Lr.BLACK,u,c)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const u=i(o+1,s),c=e[o],d=n?n(c):c;l(new Lr(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Lr.BLACK):(s(r,Lr.BLACK),s(r,Lr.RED))}return o}(new $r(e.length));return new Or(r||t,o)};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Qr;const Yr={};class Kr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return re(Yr&&Wr,"ChildrenNode.ts has not been loaded"),Qr=Qr||new Kr({".priority":Yr},{".priority":Wr}),Qr}get(e){const t=xe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Or?t:null}hasIndex(e){return Ee(this.indexSet_,e.toString())}addIndex(e,t){re(e!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Nr.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Gr(n,e.getCompare()):Yr;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const u=Object.assign({},this.indexes_);return u[s]=o,new Kr(u,l)}addToIndexes(e,t){const n=Te(this.indexes_,((n,r)=>{const i=xe(this.indexSet_,r);if(re(i,"Missing index implementation for "+r),n===Yr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Nr.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Gr(n,i.getCompare())}return Yr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Nr(e.name,r))),i.insert(e,e.node)}}));return new Kr(n,this.indexSet_)}removeFromIndexes(e,t){const n=Te(this.indexes_,(n=>{if(n===Yr)return n;{const r=t.get(e.name);return r?n.remove(new Nr(e.name,r)):n}}));return new Kr(n,this.indexSet_)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Xr;class Jr{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ur(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xr||(Xr=new Jr(new Or(Ar),null,Kr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xr}updatePriority(e){return this.children_.isEmpty()?this:new Jr(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Xr:t}}getChild(e){const t=cr(e);return null===t?this:this.getImmediateChild(t).getChild(hr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(re(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Nr(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Xr:this.priorityNode_;return new Jr(r,o,i)}}updateChild(e,t){const n=cr(e);if(null===n)return t;{re(".priority"!==cr(e)||1===dr(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(hr(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Wr,((o,a)=>{t[o]=a.val(e),n++,i&&Jr.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+zr(this.getPriority().val())+":"),this.forEachChild(Wr,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":mn(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Nr(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Nr(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Nr(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Nr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Nr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zr?-1:0}withIndex(e){if(e===Rr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Jr(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Wr),n=t.getIterator(Wr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Rr?null:this.indexMap_.get(e.toString())}}Jr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Zr=new class extends Jr{constructor(){super(new Or(Ar),Jr.EMPTY_NODE,Kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Nr,{MIN:{value:new Nr(En,Jr.EMPTY_NODE)},MAX:{value:new Nr(xn,Zr)}}),Ir.__EMPTY_NODE=Jr.EMPTY_NODE,Br.__childrenNodeConstructor=Jr,Fr=Zr,function(e){Hr=e}(Zr);function ei(e,t=null){if(null===e)return Jr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),re(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new Br(e,ei(t))}if(e instanceof Array){let n=Jr.EMPTY_NODE;return Dn(e,((t,r)=>{if(Ee(e,t)&&"."!==t.substring(0,1)){const e=ei(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ei(t))}{const n=[];let r=!1;if(Dn(e,((e,t)=>{if("."!==e.substring(0,1)){const i=ei(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Nr(e,i)))}})),0===n.length)return Jr.EMPTY_NODE;const i=Gr(n,Mr,(e=>e.name),Ar);if(r){const e=Gr(n,Wr.getCompare());return new Jr(i,ei(t),new Kr({".priority":e},{".priority":Wr}))}return new Jr(i,ei(t),Kr.Default)}}!function(e){jr=e}(ei);
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class ti extends Tr{constructor(e){super(),this.indexPath_=e,re(!yr(e)&&".priority"!==cr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Nn(e.name,t.name):i}makePost(e,t){const n=ei(e),r=Jr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nr(t,r)}maxPost(){const e=Jr.EMPTY_NODE.updateChild(this.indexPath_,Zr);return new Nr(xn,e)}toString(){return pr(this.indexPath_,0).join("/")}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const ni=new class extends Tr{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Nn(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Nr.MIN}maxPost(){return Nr.MAX}makePost(e,t){const n=ei(e);return new Nr(t,n)}toString(){return".value"}};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function ri(e){return{type:"value",snapshotNode:e}}function ii(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function oi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ai(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class si{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){re(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(oi(t,a)):re(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ii(t,n)):o.trackChildChange(ai(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Wr,((e,r)=>{t.hasChild(e)||n.trackChildChange(oi(e,r))})),t.isLeafNode()||t.forEachChild(Wr,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ai(t,r,i))}else n.trackChildChange(ii(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Jr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class li{constructor(e){this.indexedFilter_=new si(e.getIndex()),this.index_=e.getIndex(),this.startPost_=li.getStartPost_(e),this.endPost_=li.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Nr(t,n))||(n=Jr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Jr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Jr.EMPTY_NODE);const i=this;return t.forEachChild(Wr,((e,t)=>{i.matches(new Nr(e,t))||(r=r.updateImmediateChild(e,Jr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class ui{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new li(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Nr(t,n))||(n=Jr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Jr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Jr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Jr.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Jr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;re(a.numChildren()===this.limit_,"");const s=new Nr(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||a.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,s);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ai(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(oi(t,e));const n=a.updateImmediateChild(t,Jr.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(ii(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&o(l,s)>=0?(null!=i&&(i.trackChildChange(oi(l.name,l.node)),i.trackChildChange(ii(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Jr.EMPTY_NODE)):e}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class ci{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:En}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wr}copy(){const e=new ci;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function di(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Wr?n="$priority":e.index_===ni?n="$value":e.index_===Rr?n="$key":(re(e.index_ instanceof ti,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Se(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Se(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Se(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Se(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Se(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function hi(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Wr&&(t.i=e.index_.toString()),t}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class fi extends or{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=bn("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=fi.getListenId_(e,n),a={};this.listens_[o]=a;const s=di(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),xe(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=fi.getListenId_(e,t);delete this.listens_[n]}get(e){const t=di(e._queryParams),n=e._path.toString(),r=new ye;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=ke(a.responseText)}catch(e){Sn("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Sn("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class pi{constructor(){this.rootNode_=Jr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function mi(){return{value:null,children:new Map}}function gi(e,t,n){if(yr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=cr(t);e.children.has(r)||e.children.set(r,mi());gi(e.children.get(r),t=hr(t),n)}}function yi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e,((e,r)=>{yi(r,new lr(t.toString()+"/"+e),n)}))}class vi{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Dn(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class _i{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vi(e);const n=1e4+2e4*Math.random();Fn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Dn(e,((e,r)=>{r>0&&Ee(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */var bi;function wi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(bi||(bi={}));class ki{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=bi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(yr(this.path)){if(null!=this.affectedTree.value)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lr(e));return new ki(ur(),t,this.revert)}}return re(cr(this.path)===e,"operationForChild called for unrelated child."),new ki(hr(this.path),this.affectedTree,this.revert)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Si{constructor(e,t){this.source=e,this.path=t,this.type=bi.LISTEN_COMPLETE}operationForChild(e){return yr(this.path)?new Si(this.source,ur()):new Si(this.source,hr(this.path))}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Ci{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=bi.OVERWRITE}operationForChild(e){return yr(this.path)?new Ci(this.source,ur(),this.snap.getImmediateChild(e)):new Ci(this.source,hr(this.path),this.snap)}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Ei{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=bi.MERGE}operationForChild(e){if(yr(this.path)){const t=this.children.subtree(new lr(e));return t.isEmpty()?null:t.value?new Ci(this.source,ur(),t.value):new Ei(this.source,ur(),t)}return re(cr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ei(this.source,hr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class xi{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yr(e))return this.isFullyInitialized()&&!this.filtered_;const t=cr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Ni{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ti(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ie("Should only compare child_ events.");const r=new Nr(t.childName,t.snapshotNode),i=new Nr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Pi(e,t){return{eventCache:e,serverCache:t}}function Ii(e,t,n,r){return Pi(new xi(t,n,r),e.serverCache)}function Ri(e,t,n,r){return Pi(e.eventCache,new xi(t,n,r))}function Di(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Li(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Oi;class Mi{constructor(e,t=(()=>(Oi||(Oi=new Or(Tn)),Oi))()){this.value=e,this.children=t}static fromObject(e){let t=new Mi(null);return Dn(e,((e,n)=>{t=t.set(new lr(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ur(),value:this.value};if(yr(e))return null;{const n=cr(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(hr(e),t);if(null!=i){return{path:gr(new lr(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(yr(e))return this;{const t=cr(e),n=this.children.get(t);return null!==n?n.subtree(hr(e)):new Mi(null)}}set(e,t){if(yr(e))return new Mi(t,this.children);{const n=cr(e),r=(this.children.get(n)||new Mi(null)).set(hr(e),t),i=this.children.insert(n,r);return new Mi(this.value,i)}}remove(e){if(yr(e))return this.children.isEmpty()?new Mi(null):new Mi(null,this.children);{const t=cr(e),n=this.children.get(t);if(n){const r=n.remove(hr(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Mi(null):new Mi(this.value,i)}return this}}get(e){if(yr(e))return this.value;{const t=cr(e),n=this.children.get(t);return n?n.get(hr(e)):null}}setTree(e,t){if(yr(e))return t;{const n=cr(e),r=(this.children.get(n)||new Mi(null)).setTree(hr(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Mi(this.value,i)}}fold(e){return this.fold_(ur(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(gr(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ur(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(yr(e))return null;{const r=cr(e),i=this.children.get(r);return i?i.findOnPath_(hr(e),gr(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ur(),t)}foreachOnPath_(e,t,n){if(yr(e))return this;{this.value&&n(t,this.value);const r=cr(e),i=this.children.get(r);return i?i.foreachOnPath_(hr(e),gr(t,r),n):new Mi(null)}}foreach(e){this.foreach_(ur(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(gr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class Ai{constructor(e){this.writeTree_=e}static empty(){return new Ai(new Mi(null))}}function Fi(e,t,n){if(yr(t))return new Ai(new Mi(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=vr(i,t);return o=o.updateChild(a,n),new Ai(e.writeTree_.set(i,o))}{const r=new Mi(n),i=e.writeTree_.setTree(t,r);return new Ai(i)}}}function zi(e,t,n){let r=e;return Dn(n,((e,n)=>{r=Fi(r,gr(t,e),n)})),r}function Ui(e,t){if(yr(t))return Ai.empty();{const n=e.writeTree_.setTree(t,new Mi(null));return new Ai(n)}}function qi(e,t){return null!=ji(e,t)}function ji(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(vr(n.path,t)):null}function Hi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wr,((e,n)=>{t.push(new Nr(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Nr(e,n.value))})),t}function Bi(e,t){if(yr(t))return e;{const n=ji(e,t);return new Ai(null!=n?new Mi(n):e.writeTree_.subtree(t))}}function Wi(e){return e.writeTree_.isEmpty()}function Vi(e,t){return $i(ur(),e.writeTree_,t)}function $i(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(re(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=$i(gr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(gr(e,".priority"),r)),n}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function Gi(e,t){return ao(t,e)}function Qi(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));re(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Yi(t,r.path)?i=!1:br(r.path,t.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Xi(e.allWrites,Ki,ur()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Ui(e.visibleWrites,r.path);else{Dn(r.children,(t=>{e.visibleWrites=Ui(e.visibleWrites,gr(r.path,t))}))}return!0}return!1}function Yi(e,t){if(e.snap)return br(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&br(gr(e.path,n),t))return!0;return!1}function Ki(e){return e.visible}function Xi(e,t,n){let r=Ai.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)br(n,e)?(t=vr(n,e),r=Fi(r,t,o.snap)):br(e,n)&&(t=vr(e,n),r=Fi(r,ur(),o.snap.getChild(t)));else{if(!o.children)throw ie("WriteRecord should have .snap or .children");if(br(n,e))t=vr(n,e),r=zi(r,t,o.children);else if(br(e,n))if(t=vr(e,n),yr(t))r=zi(r,ur(),o.children);else{const e=xe(o.children,cr(t));if(e){const n=e.getChild(hr(t));r=Fi(r,ur(),n)}}}}}return r}function Ji(e,t,n,r,i){if(r||i){const o=Bi(e.visibleWrites,t);if(!i&&Wi(o))return n;if(i||null!=n||qi(o,ur())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(br(e.path,t)||br(t,e.path))};return Vi(Xi(e.allWrites,o,t),n||Jr.EMPTY_NODE)}return null}{const r=ji(e.visibleWrites,t);if(null!=r)return r;{const r=Bi(e.visibleWrites,t);if(Wi(r))return n;if(null!=n||qi(r,ur())){return Vi(r,n||Jr.EMPTY_NODE)}return null}}}function Zi(e,t,n,r){return Ji(e.writeTree,e.treePath,t,n,r)}function eo(e,t){return function(e,t,n){let r=Jr.EMPTY_NODE;const i=ji(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Wr,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Bi(e.visibleWrites,t);return n.forEachChild(Wr,((e,t)=>{const n=Vi(Bi(i,new lr(e)),t);r=r.updateImmediateChild(e,n)})),Hi(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Hi(Bi(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function to(e,t,n,r){return function(e,t,n,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=gr(t,n);if(qi(e.visibleWrites,o))return null;{const t=Bi(e.visibleWrites,o);return Wi(t)?i.getChild(n):Vi(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function no(e,t){return function(e,t){return ji(e.visibleWrites,t)}(e.writeTree,gr(e.treePath,t))}function ro(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=Bi(e.visibleWrites,t),u=ji(l,ur());if(null!=u)s=u;else{if(null==n)return[];s=Vi(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function io(e,t,n){return function(e,t,n,r){const i=gr(t,n),o=ji(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Vi(Bi(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function oo(e,t){return ao(gr(e.treePath,t),e.writeTree)}function ao(e,t){return{treePath:e,writeTree:t}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class so{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;re("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),re(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ai(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,oi(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ii(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ie("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ai(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const lo=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class uo{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return io(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Li(this.viewCache_),i=ro(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */function co(e,t,n,r,i){const o=new so;let a,s;if(n.type===bi.OVERWRITE){const l=n;l.source.fromUser?a=po(e,t,l.path,l.snap,r,i,o):(re(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!yr(l.path),a=fo(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===bi.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,l)=>{const u=gr(n,r);mo(t,cr(u))&&(s=po(e,s,u,l,i,o,a))})),r.foreach(((r,l)=>{const u=gr(n,r);mo(t,cr(u))||(s=po(e,s,u,l,i,o,a))})),s}(e,t,l.path,l.children,r,i,o):(re(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=yo(e,t,l.path,l.children,r,i,s,o))}else if(n.type===bi.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=no(r,n))return t;{const s=new uo(r,t,i),l=t.eventCache.getNode();let u;if(yr(n)||".priority"===cr(n)){let n;if(t.serverCache.isFullyInitialized())n=Zi(r,Li(t));else{const e=t.serverCache.getNode();re(e instanceof Jr,"serverChildren would be complete if leaf node"),n=eo(r,e)}u=e.filter.updateFullNode(l,n,o)}else{const i=cr(n);let c=io(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,hr(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Jr.EMPTY_NODE,hr(n),s,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Zi(r,Li(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=no(r,ur()),Ii(t,u,a,e.filter.filtersNodes())}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=no(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(yr(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fo(e,t,n,l.getNode().getChild(n),i,o,s,a);if(yr(n)){let r=new Mi(null);return l.getNode().forEachChild(Rr,((e,t)=>{r=r.set(new lr(e),t)})),yo(e,t,n,r,i,o,s,a)}return t}{let u=new Mi(null);return r.foreach(((e,t)=>{const r=gr(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),yo(e,t,n,u,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==bi.LISTEN_COMPLETE)throw ie("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache,a=Ri(t,o.getNode(),o.isFullyInitialized()||yr(n),o.isFiltered());return ho(e,a,n,r,lo,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Di(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ri(Di(t)))}}(t,a,l),{viewCache:a,changes:l}}function ho(e,t,n,r,i,o){const a=t.eventCache;if(null!=no(r,n))return t;{let s,l;if(yr(n))if(re(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Li(t),i=eo(r,n instanceof Jr?n:Jr.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Zi(r,Li(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=cr(n);if(".priority"===u){re(1===dr(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=to(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const c=hr(n);let d;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const e=to(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(u).updateChild(c,e):a.getNode().getImmediateChild(u)}else d=io(r,u,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),u,d,c,i,o):a.getNode()}}return Ii(t,s,a.isFullyInitialized()||yr(n),e.filter.filtersNodes())}}function fo(e,t,n,r,i,o,a,s){const l=t.serverCache;let u;const c=a?e.filter:e.filter.getIndexedFilter();if(yr(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=cr(n);if(!l.isCompleteForPath(n)&&dr(n)>1)return t;const i=hr(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,lo,null)}const d=Ri(t,u,l.isFullyInitialized()||yr(n),c.filtersNodes());return ho(e,d,n,i,new uo(i,d,o),s)}function po(e,t,n,r,i,o,a){const s=t.eventCache;let l,u;const c=new uo(i,t,o);if(yr(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Ii(t,u,!0,e.filter.filtersNodes());else{const i=cr(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ii(t,u,s.isFullyInitialized(),s.isFiltered());else{const o=hr(n),u=s.getNode().getImmediateChild(i);let d;if(yr(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===fr(o)&&e.getChild(mr(o)).isEmpty()?e:e.updateChild(o,r):Jr.EMPTY_NODE}if(u.equals(d))l=t;else{l=Ii(t,e.filter.updateChild(s.getNode(),i,d,o,c,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function mo(e,t){return e.eventCache.isCompleteForChild(t)}function go(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function yo(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=yr(n)?r:new Mi(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=go(0,t.serverCache.getNode().getImmediateChild(n),r);u=fo(e,u,new lr(n),l,i,o,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=go(0,t.serverCache.getNode().getImmediateChild(n),r);u=fo(e,u,new lr(n),l,i,o,a,s)}})),u}class vo{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new si(n.getIndex()),i=(o=n).loadsAllData()?new si(o.getIndex()):o.hasLimit()?new ui(o):new li(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Jr.EMPTY_NODE,a.getNode(),null),u=i.updateFullNode(Jr.EMPTY_NODE,s.getNode(),null),c=new xi(l,a.isFullyInitialized(),r.filtersNodes()),d=new xi(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=Pi(d,c),this.eventGenerator_=new Ni(this.query_)}get query(){return this.query_}}function _o(e,t){const n=Li(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!yr(t)&&!n.getImmediateChild(cr(t)).isEmpty())?n.getChild(t):null}function bo(e){return 0===e.eventRegistrations_.length}function wo(e,t,n){const r=[];if(n){re(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ko(e,t,n,r){t.type===bi.MERGE&&null!==t.source.queryId&&(re(Li(e.viewCache_),"We should always have a full cache before handling merges"),re(Di(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=co(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,re(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),re(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),re(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,So(e,o.changes,o.viewCache.eventCache.getNode(),null)}function So(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ti(e,i,"child_removed",t,r,n),Ti(e,i,"child_added",t,r,n),Ti(e,i,"child_moved",o,r,n),Ti(e,i,"child_changed",t,r,n),Ti(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Co,Eo;class xo{constructor(){this.views=new Map}}function No(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return re(null!=o,"SyncTree gave us an op for an invalid query."),ko(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ko(o,t,n,r));return i}}function To(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=Zi(n,i?r:null),o=!1;e?o=!0:r instanceof Jr?(e=eo(n,r),o=!1):(e=Jr.EMPTY_NODE,o=!1);const a=Pi(new xi(e,o,!1),new xi(r,i,!1));return new vo(t,a)}return a}function Po(e,t,n,r,i,o){const a=To(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Wr,((e,t)=>{r.push(ii(e,t))}));return n.isFullyInitialized()&&r.push(ri(n.getNode())),So(e,r,n.getNode(),t)}(a,n)}function Io(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=Mo(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(wo(i,n,r)),bo(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(wo(t,n,r)),bo(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!Mo(e)&&o.push(new(re(Co,"Reference.ts has not been loaded"),Co)(t._repo,t._path)),{removed:o,events:a}}function Ro(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Do(e,t){let n=null;for(const r of e.views.values())n=n||_o(r,t);return n}function Lo(e,t){if(t._queryParams.loadsAllData())return Ao(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Oo(e,t){return null!=Lo(e,t)}function Mo(e){return null!=Ao(e)}function Ao(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */let Fo=1;class zo{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mi(null),this.pendingWriteTree_={visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uo(e,t,n,r,i){return function(e,t,n,r,i){re(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Fi(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Go(e,new Ci({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qo(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Qi(e.pendingWriteTree_,t)){let t=new Mi(null);return null!=r.snap?t=t.set(ur(),!0):Dn(r.children,(e=>{t=t.set(new lr(e),!0)})),Go(e,new ki(r.path,t,n))}return[]}function jo(e,t,n){return Go(e,new Ci({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ho(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||Oo(a,t))){const l=Io(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(s=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Mo(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Mo(t)){return[Ao(t)]}{let e=[];return t&&(e=Ro(t)),Dn(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Ko(e,r);e.listenProvider_.startListening(na(i),Xo(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(na(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(Jo(t));e.listenProvider_.stopListening(na(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Jo(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return s}function Bo(e,t,n,r){const i=Zo(e,r);if(null!=i){const r=ea(i),o=r.path,a=r.queryId,s=vr(o,t);return ta(e,o,new Ci(wi(a),s,n))}return[]}function Wo(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=vr(e,i);o=o||Do(t,n),a=a||Mo(t)}));let s,l=e.syncPointTree_.get(i);if(l?(a=a||Mo(l),o=o||Do(l,ur())):(l=new xo,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)s=!0;else{s=!1,o=Jr.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Do(t,ur());n&&(o=o.updateImmediateChild(e,n))}))}const u=Oo(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=Jo(t);re(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Fo++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=Po(l,t,n,Gi(e.pendingWriteTree_,i),o,s);if(!u&&!a&&!r){const n=Lo(l,t);c=c.concat(function(e,t,n){const r=t._path,i=Xo(e,t),o=Ko(e,n),a=e.listenProvider_.startListening(na(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)re(!Mo(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!yr(e)&&t&&Mo(t))return[Ao(t).query];{let e=[];return t&&(e=e.concat(Ro(t).map((e=>e.query)))),Dn(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(na(r),Xo(e,r))}}return a}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e,t,n))}return c}function Vo(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Do(n,vr(e,t));if(r)return r}));return Ji(r,t,i,n,!0)}function $o(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=vr(e,n);r=r||Do(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Do(i,ur()):(i=new xo,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new xi(r,!0,!1):null;return function(e){return Di(e.viewCache_)}(To(i,t,Gi(e.pendingWriteTree_,t._path),o?a.getNode():Jr.EMPTY_NODE,o))}function Go(e,t){return Qo(t,e.syncPointTree_,null,Gi(e.pendingWriteTree_,ur()))}function Qo(e,t,n,r){if(yr(e.path))return Yo(e,t,n,r);{const i=t.get(ur());null==n&&null!=i&&(n=Do(i,ur()));let o=[];const a=cr(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=oo(r,a);o=o.concat(Qo(s,l,e,t))}return i&&(o=o.concat(No(i,e,r,n))),o}}function Yo(e,t,n,r){const i=t.get(ur());null==n&&null!=i&&(n=Do(i,ur()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=oo(r,t),l=e.operationForChild(t);l&&(o=o.concat(Yo(l,i,a,s)))})),i&&(o=o.concat(No(i,e,r,n))),o}function Ko(e,t){const n=t.query,r=Xo(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Jr.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Zo(e,n);if(r){const n=ea(r),i=n.path,o=n.queryId,a=vr(i,t);return ta(e,i,new Si(wi(o),a))}return[]}(e,n._path,r):function(e,t){return Go(e,new Si({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ho(e,n,null,r)}}}}function Xo(e,t){const n=Jo(t);return e.queryToTagMap.get(n)}function Jo(e){return e._path.toString()+"$"+e._queryIdentifier}function Zo(e,t){return e.tagToQueryMap.get(t)}function ea(e){const t=e.indexOf("$");return re(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lr(e.substr(0,t))}}function ta(e,t,n){const r=e.syncPointTree_.get(t);re(r,"Missing sync point for query tag that we're tracking");return No(r,n,Gi(e.pendingWriteTree_,t),null)}function na(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(re(Eo,"Reference.ts has not been loaded"),Eo)(e._repo,e._path):e}class ra{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ra(t)}node(){return this.node_}}class ia{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=gr(this.path_,e);return new ia(this.syncTree_,t)}node(){return Vo(this.syncTree_,this.path_)}}const oa=function(e,t,n){return e&&"object"==typeof e?(re(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?aa(e[".sv"],t,n):"object"==typeof e[".sv"]?sa(e[".sv"],t):void re(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},aa=function(e,t,n){if("timestamp"===e)return n.timestamp;re(!1,"Unexpected server value: "+e)},sa=function(e,t,n){e.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&re(!1,"Unexpected increment value: "+r);const i=t.node();if(re(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},la=function(e,t,n){return ua(e,new ra(t),n)};function ua(e,t,n){const r=e.getPriority().val(),i=oa(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=oa(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Br(o,ei(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Br(i))),r.forEachChild(Wr,((e,r)=>{const i=ua(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class ca{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function da(e,t){let n=t instanceof lr?t:new lr(t),r=e,i=cr(n);for(;null!==i;){const e=xe(r.node.children,i)||{children:{},childCount:0};r=new ca(i,r,e),n=hr(n),i=cr(n)}return r}function ha(e){return e.node.value}function fa(e,t){e.node.value=t,va(e)}function pa(e){return e.node.childCount>0}function ma(e,t){Dn(e.node.children,((n,r)=>{t(new ca(n,e,r))}))}function ga(e,t,n,r){n&&t(e),ma(e,(e=>{ga(e,t,!0)}))}function ya(e){return new lr(null===e.parent?e.name:ya(e.parent)+"/"+e.name)}function va(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===ha(e)&&!pa(e)}(n),i=Ee(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,va(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,va(e))}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(e.parent,e.name,e)}const _a=/[\[\].#$\/\u0000-\u001F\u007F]/,ba=/[\[\].#$\u0000-\u001F\u007F]/,wa=10485760,ka=function(e){return"string"==typeof e&&0!==e.length&&!_a.test(e)},Sa=function(e){return"string"==typeof e&&0!==e.length&&!ba.test(e)},Ca=function(e,t,n){const r=n instanceof lr?new wr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Sr(r));if("function"==typeof t)throw new Error(e+"contains a function "+Sr(r)+" with contents = "+t.toString());if(Cn(t))throw new Error(e+"contains "+t.toString()+" "+Sr(r));if("string"==typeof t&&t.length>wa/3&&Le(t)>wa)throw new Error(e+"contains a string greater than "+wa+" utf8 bytes "+Sr(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(Dn(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ka(t)))throw new Error(e+" contains an invalid key ("+t+") "+Sr(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Le(t),kr(e)}(r,t),Ca(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Le(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Sr(r)+" in addition to actual children.")}},Ea=function(e,t,n,r){if(!Sa(n))throw new Error(De(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xa=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ka(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Sa(e)}(n))throw new Error(De(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class Na{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ta(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||_r(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Pa(e,t,n){Ta(e,n),Ra(e,(e=>_r(e,t)))}function Ia(e,t,n){Ta(e,n),Ra(e,(e=>br(e,t)||br(t,e)))}function Ra(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Da(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Da(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();yn&&_n("event: "+n.toString()),An(r)}}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class La{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Na,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mi(),this.transactionQueueTree_=new ca,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Oa(e,t,n){if(e.stats_=Kn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fi(e.repoInfo_,((t,n,r,i)=>{Fa(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>za(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new xr(e.repoInfo_,t,((t,n,r,i)=>{Fa(e,t,n,r,i)}),(t=>{za(e,t)}),(t=>{!function(e,t){Dn(t,((t,n)=>{Ua(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Yn[n]||(Yn[n]=t()),Yn[n]}(e.repoInfo_,(()=>new _i(e.stats_,e.server_))),e.infoData_=new pi,e.infoSyncTree_=new zo({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=jo(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ua(e,"connected",!1),e.serverSyncTree_=new zo({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Ia(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ma(e){const t=e.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Aa(e){return(t=(t={timestamp:Ma(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Fa(e,t,n,r,i){e.dataUpdateCount++;const o=new lr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Te(n,(e=>ei(e)));a=function(e,t,n,r){const i=Zo(e,r);if(i){const r=ea(i),o=r.path,a=r.queryId,s=vr(o,t),l=Mi.fromObject(n);return ta(e,o,new Ei(wi(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=ei(n);a=Bo(e.serverSyncTree_,o,t,i)}else if(r){const t=Te(n,(e=>ei(e)));a=function(e,t,n){const r=Mi.fromObject(n);return Go(e,new Ei({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=ei(n);a=jo(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=$a(e,o)),Ia(e.eventQueue_,s,a)}function za(e,t){Ua(e,"connected",t),!1===t&&function(e){Ba(e,"onDisconnectEvents");const t=Aa(e),n=mi();yi(e.onDisconnect_,ur(),((r,i)=>{const o=function(e,t,n,r){return ua(t,new ia(n,e),r)}(r,i,e.serverSyncTree_,t);gi(n,r,o)}));let r=[];yi(n,ur(),((t,n)=>{r=r.concat(jo(e.serverSyncTree_,t,n));const i=Xa(e,t);$a(e,i)})),e.onDisconnect_=mi(),Ia(e.eventQueue_,ur(),r)}(e)}function Ua(e,t,n){const r=new lr("/.info/"+t),i=ei(n);e.infoData_.updateSnapshot(r,i);const o=jo(e.infoSyncTree_,r,i);Ia(e.eventQueue_,r,o)}function qa(e){return e.nextWriteId_++}function ja(e,t,n,r,i){Ba(e,"set",{path:t.toString(),value:n,priority:r});const o=Aa(e),a=ei(n,r),s=Vo(e.serverSyncTree_,t),l=la(a,s,o),u=qa(e),c=Uo(e.serverSyncTree_,t,l,u,!0);Ta(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||Sn("set at "+t+" failed: "+n);const a=qo(e.serverSyncTree_,u,!o);Ia(e.eventQueue_,t,a),function(e,t,n,r){t&&An((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const d=Xa(e,t);$a(e,d),Ia(e.eventQueue_,d,[])}function Ha(e,t,n){let r;r=".info"===cr(t._path)?Ho(e.infoSyncTree_,t,n):Ho(e.serverSyncTree_,t,n),Pa(e.eventQueue_,t._path,r)}function Ba(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),_n(n,...t)}function Wa(e,t,n){return Vo(e.serverSyncTree_,t,n)||Jr.EMPTY_NODE}function Va(e,t=e.transactionQueueTree_){if(t||Ka(e,t),ha(t)){const n=Qa(e,t);re(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Wa(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];re(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=vr(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{Ba(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(qo(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ka(e,da(e.transactionQueueTree_,t)),Va(e,e.transactionQueueTree_),Ia(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)An(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Sn("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}$a(e,t)}}),a)}(e,ya(t),n)}else pa(t)&&ma(t,(t=>{Va(e,t)}))}function $a(e,t){const n=Ga(e,t),r=ya(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let o=0;o<t.length;o++){const l=t[o],u=vr(n,l.path);let c,d=!1;if(re(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,c=l.abortReason,i=i.concat(qo(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,c="maxretry",i=i.concat(qo(e.serverSyncTree_,l.currentWriteId,!0));else{const n=Wa(e,l.path,a);l.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Ca("transaction failed: Data returned ",r,l.path);let t=ei(r);"object"==typeof r&&null!=r&&Ee(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=l.currentWriteId,s=Aa(e),u=la(t,n,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=qa(e),a.splice(a.indexOf(o),1),i=i.concat(Uo(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally)),i=i.concat(qo(e.serverSyncTree_,o,!0))}else d=!0,c="nodata",i=i.concat(qo(e.serverSyncTree_,l.currentWriteId,!0))}Ia(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===c?r.push((()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot))):r.push((()=>t[o].onComplete(new Error(c),!1,null)))))}var s;Ka(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)An(r[e]);Va(e,e.transactionQueueTree_)}(e,Qa(e,n),r),r}function Ga(e,t){let n,r=e.transactionQueueTree_;for(n=cr(t);null!==n&&void 0===ha(r);)r=da(r,n),n=cr(t=hr(t));return r}function Qa(e,t){const n=[];return Ya(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Ya(e,t,n){const r=ha(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);ma(t,(t=>{Ya(e,t,n)}))}function Ka(e,t){const n=ha(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,fa(t,n.length>0?n:void 0)}ma(t,(t=>{Ka(e,t)}))}function Xa(e,t){const n=ya(Ga(e,t)),r=da(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(r,(t=>{Ja(e,t)})),Ja(e,r),ga(r,(t=>{Ja(e,t)})),n}function Ja(e,t){const n=ha(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(re(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(re(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(qo(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?fa(t,void 0):n.length=o+1,Ia(e.eventQueue_,ya(t),i);for(let e=0;e<r.length;e++)An(r[e])}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */const Za=function(e,t){const n=es(e),r=n.namespace;"firebase.com"===n.domain&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Sn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Vn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new lr(n.pathString)}},es=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sn(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
class ts{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class ns{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class rs{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
	 * @license
	 * Copyright 2020 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */class is{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return yr(this._path)?null:fr(this._path)}get ref(){return new os(this._repo,this._path)}get _queryIdentifier(){const e=hi(this._queryParams),t=In(e);return"{}"===t?"default":t}get _queryObject(){return hi(this._queryParams)}isEqual(e){if(!((e=Oe(e))instanceof is))return!1;const t=this._repo===e._repo,n=_r(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class os extends is{constructor(e,t){super(e,t,new ci,!1)}get parent(){const e=mr(this._path);return null===e?null:new os(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class as{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new lr(e),n=ls(this.ref,e);return new as(this._node.getChild(t),n,Wr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new as(n,ls(this.ref,t),Wr))))}hasChild(e){const t=new lr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ss(e,t){return(e=Oe(e))._checkNotDeleted("ref"),void 0!==t?ls(e._root,t):e._root}function ls(e,t){var n,r,i;return null===cr((e=Oe(e))._path)?(n="child",r="path",(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ea(n,r,i)):Ea("child","path",t),new os(e._repo,gr(e._path,t))}function us(e,t){(function(e,t){if(".info"===cr(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=Oe(e))._path),function(e,t,n){Ca(De(e,"value"),t,n)}("set",t,e._path);const n=new ye;return ja(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function cs(e){e=Oe(e);const t=new rs((()=>{})),n=new ds(t);return function(e,t,n){const r=$o(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=ei(r).withIndex(t._queryParams.getIndex());let o;if(Wo(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=jo(e.serverSyncTree_,t._path,i);else{const n=Xo(e.serverSyncTree_,t);o=Bo(e.serverSyncTree_,t._path,i,n)}return Ia(e.eventQueue_,t._path,o),Ho(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Ba(e,"get for query "+Se(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new as(t,new os(e._repo,e._path),e._queryParams.getIndex())))}class ds{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ts("value",this,new as(e.snapshotNode,new os(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ns(this,e,t):null}matches(e){return e instanceof ds&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}function hs(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ha(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new rs(n,o||void 0),s=new ds(a);return function(e,t,n){let r;r=".info"===cr(t._path)?Wo(e.infoSyncTree_,t,n):Wo(e.serverSyncTree_,t,n),Pa(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Ha(e._repo,e,s)}!function(e){re(!Co,"__referenceConstructor has already been defined"),Co=e}(os),function(e){re(!Eo,"__referenceConstructor has already been defined"),Eo=e}(os);
/**
	 * @license
	 * Copyright 2020 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
const fs={};let ps=!1;function ms(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s=Za(o,i),l=s.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=`http://${a}?ns=${l.namespace}`,s=Za(o,i),l=s.repoInfo):s.repoInfo.secure;const u=new Un(e.name,e.options,t);xa("Invalid Firebase Database URL",s),yr(s.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const c=function(e,t,n,r){let i=fs[t.name];i||(i={},fs[t.name]=i);let o=i[e.toURLString()];o&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new La(e,ps,n,r),i[e.toURLString()]=o,o}(l,e,u,new zn(e.name,n));return new gs(c,e)}class gs{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Oa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new os(this._repo,ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=fs[t];n&&n[e.key]===e||kn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&kn("Cannot call "+e+" on a deleted database.")}}xr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},
/**
	 * @license
	 * Copyright 2021 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function(e){!function(e){sn=e}("10.14.1"),Bt(new Me("database",((e,{instanceIdentifier:t})=>ms(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Gt(on,an,e),Gt(on,an,"esm2017")}();
/**
	 * @license
	 * Copyright 2020 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
Gt("firebase","10.14.1","app");var ys,vs;function _s(){return(_s=N(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Testing database connection..."),t=ss(vs,"test"),e.next=5,us(t,{timestamp:Date.now()});case 5:return console.log("Database write test successful"),e.next=8,cs(t);case 8:return n=e.sent,console.log("Database read test successful:",n.val()),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Database connection test failed:",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}try{console.log("Initializing Firebase..."),ys=$t({databaseURL:"https://lupus-in-tabula-157a0-default-rtdb.europe-west1.firebasedatabase.app",apiKey:"AIzaSyANRDc-IKoiTE5b2XSniQv2iz53kaU-YY4",authDomain:"lupus-in-tabula-157a0.firebaseapp.com",projectId:"lupus-in-tabula-157a0",storageBucket:"lupus-in-tabula-157a0.firebasestorage.app",messagingSenderId:"527839463153",appId:"1:527839463153:web:d8b54f6eed0feb2cbc4b50"}),vs=function(e=function(e=Ft){const t=Ut.get(e);if(!t&&e===Ft&&ge())return $t();if(!t)throw Wt.create("no-app",{appName:e});return t}(),t){const n=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=me("database");e&&function(e,t,n,r={}){(e=Oe(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qn(qn.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(o)),""].join(".")}
/**
	 * @license
	 * Copyright 2017 Google LLC
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */(r.mockUserToken,e.app.options.projectId);o=new qn(t)}!function(e,t,n,r){e.repoInfo_=new Vn(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(ys),console.log("Firebase app initialized"),function(){return _s.apply(this,arguments)}().then((function(e){e?console.log("Firebase Realtime Database is working correctly"):console.error("Firebase Realtime Database connection failed")})),console.log("Firebase initialization complete")}catch(wn){throw console.error("Error initializing Firebase:",wn),wn}var bs=function(){return T((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameState=null,this.listeners=new Set,this.firebaseListener=null,this.currentGameRef=null,console.log("GameStateManager initialized")}),[{key:"checkGameExists",value:(o=N(D().mark((function e(t){var n,r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Checking game existence for code:",t),e.prev=1,n=ss(vs,"games/".concat(t)),console.log("Firebase reference created:",n),console.log("Attempting to get snapshot..."),e.next=7,cs(n);case 7:return r=e.sent,console.log("Snapshot received:",r),console.log("Snapshot exists:",r.exists()),console.log("Snapshot value:",r.val()),e.abrupt("return",r.exists());case 14:throw e.prev=14,e.t0=e.catch(1),console.error("Error checking game existence:",e.t0),console.error("Error details:",{message:e.t0.message,code:e.t0.code,stack:e.t0.stack}),new Error("Failed to check if game exists: "+e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(e){return o.apply(this,arguments)})},{key:"saveGameState",value:(i=N(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Saving game state:",{gameCode:t,state:n}),e.prev=1,t){e.next=4;break}throw new Error("Game code is required");case 4:return r=Object.entries(n).reduce((function(e,t){var n=L(t,2),r=n[0],i=n[1];return void 0!==i&&(e[r]=i),e}),{}),console.log("Clean state to save:",r),sessionStorage.setItem("game_".concat(t),JSON.stringify(r)),console.log("State saved to sessionStorage"),i=ss(vs,"games/".concat(t)),console.log("Firebase reference created:",i),e.next=12,us(i,r);case 12:return console.log("Game state saved to Firebase successfully"),this.gameState=r,console.log("Local game state updated:",this.gameState),this.notifyListeners(),e.abrupt("return",r);case 19:throw e.prev=19,e.t0=e.catch(1),console.error("Error saving game state:",e.t0),new Error("Failed to save game state: "+e.t0.message);case 23:case"end":return e.stop()}}),e,this,[[1,19]])}))),function(e,t){return i.apply(this,arguments)})},{key:"loadGameState",value:(r=N(D().mark((function e(t){var n,r,i,o,a,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading game state for code:",t),e.prev=1,n=ss(vs,"games/".concat(t)),console.log("Firebase reference created:",n),e.next=6,cs(n);case 6:if(!(r=e.sent).exists()){e.next=15;break}return i=r.val(),console.log("Game state loaded from Firebase:",i),o=R(R({},i),{},{phase:i.phase||"setup",currentPhase:i.currentPhase||i.phase||"setup",players:i.players||[],votes:i.votes||{},eliminatedPlayers:i.eliminatedPlayers||[],lastUpdate:i.lastUpdate||Date.now()}),console.log("Complete game state after processing:",o),this.gameState=o,this.notifyListeners(),e.abrupt("return",o);case 15:if(!(a=sessionStorage.getItem("game_".concat(t)))){e.next=22;break}return s=JSON.parse(a),console.log("Game state loaded from sessionStorage:",s),this.gameState=s,this.notifyListeners(),e.abrupt("return",s);case 22:return console.log("No game state found"),e.abrupt("return",null);case 26:throw e.prev=26,e.t0=e.catch(1),console.error("Error loading game state:",e.t0),new Error("Failed to load game state: "+e.t0.message);case 30:case"end":return e.stop()}}),e,this,[[1,26]])}))),function(e){return r.apply(this,arguments)})},{key:"assignRoleToPlayer",value:(n=N(D().mark((function e(t,n,r){var i,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Assigning role to player:",{gameCode:t,playerName:n,role:r}),e.prev=1,e.next=4,this.loadGameState(t);case 4:if(i=e.sent){e.next=7;break}throw new Error("Game not found");case 7:if(-1!==(o=i.players.findIndex((function(e){return e.name===n})))){e.next=10;break}throw new Error("Player not found");case 10:return i.players[o].role=r,e.next=13,this.saveGameState(t,i);case 13:return e.abrupt("return",i);case 16:throw e.prev=16,e.t0=e.catch(1),console.error("Error assigning role:",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"initializeGame",value:(t=N(D().mark((function e(t,n,r,i){var o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Initializing game:",{gameCode:t,players:n,gameMasterId:r,config:i}),e.prev=1,t&&n&&r){e.next=4;break}throw new Error("Missing required parameters for game initialization");case 4:return o={gameCode:t,players:n.map((function(e){return{name:e,role:null}})),gameMasterId:r,phase:"night",currentPhase:"night",currentPlayer:null,votes:{},eliminatedPlayers:[],lastUpdate:Date.now(),config:{totalPlayers:i.totalPlayers,werewolves:i.werewolves,seers:i.seers,bodyguards:i.bodyguards}},console.log("Initial game state:",o),e.next=8,this.saveGameState(t,o);case 8:return a=e.sent,console.log("Game state saved:",a),this.gameState=a,this.notifyListeners(),e.abrupt("return",a);case 15:throw e.prev=15,e.t0=e.catch(1),console.error("Error initializing game:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"subscribeToGameState",value:function(e,t){var n=this;console.log("Subscribing to game state for code:",e);try{return this.cleanupSubscription(),this.currentGameRef=ss(vs,"games/".concat(e)),console.log("Firebase reference created for subscription:",this.currentGameRef),this.firebaseListener=function(e,t,n,r){return hs(e,0,t,n,r)}(this.currentGameRef,(function(e){if(e.exists()){var r=e.val();console.log("Received game state update:",r),n.gameState=r,n.notifyListeners(),t&&t(r)}else console.log("No game state found in subscription"),t&&t(null)}),(function(e){console.error("Error in Firebase listener:",e),t&&t(null)})),this.listeners.add(t),function(){console.log("Cleaning up subscription for game:",e),n.cleanupSubscription()}}catch(e){throw console.error("Error subscribing to game state:",e),e}}},{key:"cleanupSubscription",value:function(){if(this.firebaseListener){try{!function(e,t,n){let r=null;const i=n?new rs(n):null;r=new ds(i),Ha(e._repo,e,r)}(this.currentGameRef,0,this.firebaseListener)}catch(e){console.error("Error cleaning up Firebase listener:",e)}this.firebaseListener=null}this.currentGameRef=null}},{key:"notifyListeners",value:function(){var e=this;console.log("Notifying listeners of state update:",this.gameState),this.gameState?this.listeners.forEach((function(t){try{console.log("Calling listener with state:",e.gameState),t(e.gameState)}catch(e){console.error("Error in listener callback:",e)}})):console.log("No game state to notify listeners about")}},{key:"quitGame",value:(e=N(D().mark((function e(t,n){var r,i,o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Quitting game:",{gameCode:t,playerName:n}),e.prev=1,e.next=4,this.loadGameState(t);case 4:if(r=e.sent){e.next=7;break}throw new Error("Game not found");case 7:if(0!==(i=r.players.filter((function(e){return e.name!==n}))).length){e.next=16;break}return console.log("No players left, deleting game"),o=ss(vs,"games/".concat(t)),e.next=13,us(o,null);case 13:return sessionStorage.removeItem("game_".concat(t)),sessionStorage.removeItem("currentGame"),e.abrupt("return",null);case 16:return a=R(R({},r),{},{players:i}),e.next=19,this.saveGameState(t,a);case 19:return sessionStorage.removeItem("currentGame"),e.abrupt("return",a);case 23:throw e.prev=23,e.t0=e.catch(1),console.error("Error quitting game:",e.t0),new Error("Failed to quit game: "+e.t0.message);case 27:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(t,n){return e.apply(this,arguments)})}]);var e,t,n,r,i,o}(),ws=new bs;function ks(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}ks(":root {\n  /* Light theme (default) */\n  --bg-primary: #f8f9fa;\n  --bg-secondary: #ffffff;\n  --text-primary: #2c3e50;\n  --text-secondary: #6c757d;\n  --border-color: #e9ecef;\n  --accent-color: #4361ee;\n  --accent-hover: #3a56d4;\n  --danger-color: #ef476f;\n  --danger-hover: #d64161;\n  --success-color: #06d6a0;\n  --success-hover: #05b589;\n  --card-bg: #ffffff;\n  --shadow-color: rgba(0, 0, 0, 0.08);\n  --shadow-hover: rgba(0, 0, 0, 0.12);\n  --gradient-start: #4361ee;\n  --gradient-end: #3a0ca3;\n  --input-bg: #ffffff;\n  --input-border: #e9ecef;\n  --input-text: #2c3e50;\n  --button-text: #ffffff;\n  --button-shadow: rgba(0, 0, 0, 0.1);\n}\n\n[data-theme=\"dark\"] {\n  --bg-primary: #1a1b1e;\n  --bg-secondary: #2d2e32;\n  --text-primary: #e9ecef;\n  --text-secondary: #adb5bd;\n  --border-color: #373a40;\n  --accent-color: #4cc9f0;\n  --accent-hover: #3db8dd;\n  --danger-color: #ff6b6b;\n  --danger-hover: #fa5252;\n  --success-color: #51cf66;\n  --success-hover: #40c057;\n  --card-bg: #2d2e32;\n  --shadow-color: rgba(0, 0, 0, 0.2);\n  --shadow-hover: rgba(0, 0, 0, 0.3);\n  --gradient-start: #4cc9f0;\n  --gradient-end: #4361ee;\n  --input-bg: #2d2e32;\n  --input-border: #373a40;\n  --input-text: #e9ecef;\n  --button-text: #ffffff;\n  --button-shadow: rgba(0, 0, 0, 0.2);\n}\n\n/* Apply theme variables to elements */\nbody {\n  background-color: var(--bg-primary);\n  color: var(--text-primary);\n  transition: background-color 0.3s ease, color 0.3s ease;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  line-height: 1.6;\n}\n\n.game-container {\n  background-color: var(--bg-primary);\n  color: var(--text-primary);\n  min-height: 100vh;\n  padding: 2rem;\n}\n\n.game-header {\n  background-color: var(--bg-secondary);\n  border-bottom: 1px solid var(--border-color);\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 4px 6px var(--shadow-color);\n  margin-bottom: 2rem;\n}\n\n.game-master-view, .player-view {\n  background-color: var(--card-bg);\n  border: 1px solid var(--border-color);\n  border-radius: 16px;\n  box-shadow: 0 4px 6px var(--shadow-color);\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.game-master-view:hover, .player-view:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 12px var(--shadow-hover);\n}\n\n.player-item {\n  background-color: var(--bg-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: 12px;\n  padding: 1rem 1.5rem;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.player-item:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 6px var(--shadow-color);\n}\n\n.phase-btn {\n  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));\n  color: white;\n  border: none;\n  border-radius: 12px;\n  padding: 1rem 2rem;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.phase-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px var(--shadow-hover);\n}\n\n.quit-game-btn {\n  background-color: var(--danger-color);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  padding: 0.75rem 1.5rem;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  transition: all 0.2s ease;\n}\n\n.quit-game-btn:hover {\n  background-color: var(--danger-hover);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px var(--shadow-hover);\n}\n\n.role-info {\n  background-color: var(--bg-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: 16px;\n  padding: 2rem;\n  margin: 1.5rem 0;\n  box-shadow: 0 4px 6px var(--shadow-color);\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.role-info:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 12px var(--shadow-hover);\n}\n\n/* Add smooth transitions for theme changes */\n* {\n  transition: background-color 0.3s ease, \n              color 0.3s ease, \n              border-color 0.3s ease, \n              box-shadow 0.3s ease,\n              transform 0.2s ease;\n}\n\n/* Input styles */\ninput, select, textarea {\n  background-color: var(--input-bg);\n  color: var(--input-text);\n  border: 1px solid var(--input-border);\n  border-radius: 8px;\n  padding: 0.75rem 1rem;\n  transition: all 0.2s ease;\n}\n\ninput:focus, select:focus, textarea:focus {\n  outline: none;\n  border-color: var(--accent-color);\n  box-shadow: 0 0 0 2px var(--shadow-color);\n}\n\n/* Button base styles */\nbutton {\n  background-color: var(--accent-color);\n  color: var(--button-text);\n  border: none;\n  border-radius: 8px;\n  padding: 0.75rem 1.5rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\nbutton:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px var(--button-shadow);\n}\n\nbutton:active {\n  transform: translateY(0);\n}\n\n/* Card styles */\n.card {\n  background-color: var(--card-bg);\n  border: 1px solid var(--border-color);\n  border-radius: 12px;\n  box-shadow: 0 4px 6px var(--shadow-color);\n  transition: all 0.2s ease;\n}\n\n.card:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 12px var(--shadow-hover);\n}\n\n/* Link styles */\na {\n  color: var(--accent-color);\n  text-decoration: none;\n  transition: color 0.2s ease;\n}\n\na:hover {\n  color: var(--accent-hover);\n}\n\n/* Selection styles */\n::selection {\n  background-color: var(--accent-color);\n  color: var(--button-text);\n} ");var Ss="werewolf",Cs="seer",Es="bodyguard",xs=P(P(P(P({},"villager","A regular villager. Your goal is to identify and eliminate the werewolves."),Ss,"A werewolf. Each night, you can eliminate one player. Work with other werewolves to eliminate all villagers."),Cs,"A seer. Each night, you can check one player's role to determine if they are a werewolf."),Es,"A bodyguard. Each night, you can protect one player from being eliminated. You cannot protect the same player two nights in a row."),Ns="setup",Ts="night",Ps="day",Is="voting",Rs=function(){var e=u.useState((function(){var e=sessionStorage.getItem("currentGame");if(e)try{var t=JSON.parse(e);return console.log("Restored game state from sessionStorage:",t),t}catch(e){console.error("Error parsing saved game state:",e)}return{phase:Ns,players:[],currentPlayer:null,votes:{},gameOver:!1,winner:null,isGameMaster:!1,gameCode:null,playerRole:null,playerName:null,lastProtectedPlayer:null}})),t=L(e,2),n=t[0],r=t[1];u.useEffect((function(){n.gameCode&&(console.log("Saving game state to sessionStorage:",n),sessionStorage.setItem("currentGame",JSON.stringify(n)))}),[n]),u.useEffect((function(){var e=null;if(n.gameCode){console.log("Setting up Firebase listener for game:",n.gameCode);try{e=ws.subscribeToGameState(n.gameCode,(function(e){e&&(console.log("Received real-time update:",e),r((function(t){return R(R({},t),e)})))}))}catch(e){console.error("Error setting up Firebase listener:",e)}}return function(){e&&(console.log("Cleaning up Firebase listener"),e())}}),[n.gameCode]),u.useEffect((function(){var e=n.phase===Ts;document.documentElement.setAttribute("data-theme",e?"dark":"light")}),[n.phase]);var i=function(){var e=N(D().mark((function e(t){var n,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting game with config:",t),n="game-master-"+Date.now(),i={gameCode:t.gameCode,players:t.players.map((function(e){return{name:e,role:null}})),gameMasterId:n,isGameMaster:!0,playerName:t.gameMasterName,phase:Ts,currentPhase:Ts,currentPlayer:null,votes:{},eliminatedPlayers:[],lastUpdate:Date.now(),config:{totalPlayers:t.totalPlayers,werewolves:t.werewolves,seers:t.seers,bodyguards:t.bodyguards}},console.log("Setting new game state:",i),r(i),e.next=8,ws.saveGameState(t.gameCode,i);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error starting game:",e.t0),alert("Failed to start game: "+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=N(D().mark((function e(t){var n,i,o,a,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.playerName,i=t.gameCode,e.prev=1,console.log("Joining game:",{playerName:n,gameCode:i}),e.next=5,ws.checkGameExists(i);case 5:if(e.sent){e.next=8;break}throw new Error("Game not found!");case 8:return e.next=10,ws.loadGameState(i);case 10:if(o=e.sent){e.next=13;break}throw new Error("Could not load game state");case 13:if(!o.players.some((function(e){return e.name===n}))){e.next=16;break}throw new Error("A player with this name already exists in the game");case 16:if(!(o.players.length>=o.config.totalPlayers)){e.next=18;break}throw new Error("Game is full");case 18:if(!(o.gameMasterId&&o.playerName===n)){e.next=21;break}throw new Error("You cannot join as the game master. Please use a different name.");case 21:return a=[].concat(O(o.players),[{name:n,role:null}]),s=R(R({},o),{},{players:a,playerName:n,gameCode:i,phase:Ts,isGameMaster:!1}),console.log("Updating game state for join:",s),r(s),e.next=27,ws.saveGameState(i,s);case 27:e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(1),console.error("Error joining game:",e.t0),e.t0;case 33:case"end":return e.stop()}}),e,null,[[1,29]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=N(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.gameCode&&n.playerName){e.next=3;break}throw new Error("No active game to quit");case 3:if(console.log("Quitting game:",{gameCode:n.gameCode,playerName:n.playerName}),!n.isGameMaster){e.next=8;break}if(window.confirm("Are you sure you want to quit? This will end the game for all players.")){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,ws.quitGame(n.gameCode,n.playerName);case 10:r({phase:Ns,players:[],currentPlayer:null,votes:{},gameOver:!1,winner:null,isGameMaster:!1,gameCode:null,playerRole:null,playerName:null,lastProtectedPlayer:null}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error quitting game:",e.t0),alert("Failed to quit game: "+e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return console.log("Current game state:",n),n.phase!==Ns&&n.phase?c.createElement("div",{className:"game-container"},c.createElement("div",{className:"game-header"},c.createElement("h1",null,"Lupus in Tabula"),c.createElement("div",{className:"game-info"},c.createElement("div",{className:"game-code-display"},"Game Code: ",c.createElement("strong",null,n.gameCode)),c.createElement("div",{className:"game-phase"},"Current Phase: ",c.createElement("strong",null,n.phase))),n.isGameMaster&&n.gameCode&&c.createElement(te,{gameCode:n.gameCode}),c.createElement("button",{onClick:a,className:"quit-game-btn",title:n.isGameMaster?"Quit and end game for all players":"Quit game"},"Quit Game")),n.isGameMaster?c.createElement("div",{className:"game-master-view"},c.createElement("div",{className:"game-controls"},c.createElement("h2",null,"Game Master Controls"),c.createElement("button",{onClick:function(){if(n.isGameMaster){var e=[Ts,Ps,Is],t=e.indexOf(n.phase),i=e[(t+1)%e.length],o=R(R({},n),{},{phase:i,currentPhase:i});r(o),ws.saveGameState(n.gameCode,o)}},className:"phase-btn"},"Next Phase")),c.createElement("div",{className:"player-list"},c.createElement("h3",null,"Players"),n.players.map((function(e){return c.createElement("div",{key:e.name,className:"player-item"},c.createElement("span",null,e.name),c.createElement("span",{className:"player-role"},e.role))})))):c.createElement("div",{className:"player-view"},c.createElement("h2",null,"Welcome, ",n.playerName,"!"),c.createElement("div",{className:"role-info"},c.createElement("p",{className:"role-title"},"Your role: ",n.playerRole),c.createElement("p",{className:"role-description"},xs[n.playerRole])),c.createElement("p",null,"Current phase: ",n.phase),n.phase===Ts&&c.createElement("div",{className:"night-action"},n.playerRole===Ss&&c.createElement("h3",null,"Choose a player to eliminate"),n.playerRole===Cs&&c.createElement("h3",null,"Choose a player to check"),n.playerRole===Es&&c.createElement("h3",null,"Choose a player to protect")),n.phase===Is&&c.createElement("div",{className:"voting-action"},c.createElement("h3",null,"Vote to eliminate a player")))):c.createElement(j,{onGameStart:i,onJoin:o})},Ds=function(){return c.createElement("div",{className:"app"},c.createElement(Rs,null))};ks(".app {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 1rem;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n}\n\n.game-container {\n  background-color: var(--bg-primary);\n  border-radius: 8px;\n  padding: 1rem;\n  box-shadow: 0 2px 4px var(--shadow-color);\n}\n\n/* Game Header Styles */\n.game-header {\n  text-align: center;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 2px solid var(--border-color);\n}\n\n.game-info {\n  display: flex;\n  justify-content: center;\n  gap: 2rem;\n  margin-top: 1rem;\n  font-size: 1.1rem;\n}\n\n.game-code-display,\n.game-phase {\n  background-color: var(--bg-secondary);\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px var(--shadow-color);\n}\n\n.game-code-display strong,\n.game-phase strong {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  letter-spacing: 1px;\n}\n\nh1 {\n  color: var(--text-primary);\n  text-align: center;\n  margin-bottom: 1.5rem;\n  font-size: 1.8rem;\n}\n\nh2 {\n  color: var(--text-primary);\n  margin-bottom: 1rem;\n  font-size: 1.4rem;\n}\n\nh3 {\n  color: var(--text-primary);\n  margin-bottom: 0.8rem;\n  font-size: 1.2rem;\n}\n\n/* Game Setup Styles */\n.game-setup {\n  max-width: 600px;\n  margin: 2rem auto;\n  text-align: center;\n  background-color: var(--bg-secondary);\n  padding: 2rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px var(--shadow-color);\n}\n\n.setup-options {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.setup-option-btn {\n  padding: 1.2rem;\n  font-size: 1.2rem;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: transform 0.2s, background-color 0.2s;\n}\n\n.setup-option-btn:hover {\n  transform: translateY(-2px);\n}\n\n.create-btn {\n  background-color: var(--success-color);\n  color: var(--button-text);\n}\n\n.create-btn:hover {\n  background-color: var(--success-hover);\n}\n\n.join-btn {\n  background-color: var(--accent-color);\n  color: var(--button-text);\n}\n\n.join-btn:hover {\n  background-color: var(--accent-hover);\n}\n\n/* Form Styles */\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: var(--text-primary);\n}\n\n.form-group input {\n  width: 100%;\n  padding: 0.8rem;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  font-size: 1rem;\n  background-color: var(--input-bg);\n  color: var(--input-text);\n}\n\nbutton {\n  width: 100%;\n  padding: 0.8rem;\n  background-color: var(--accent-color);\n  color: var(--button-text);\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\nbutton:hover {\n  background-color: var(--accent-hover);\n}\n\n/* Game Master View */\n.game-master-view {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.game-controls {\n  background-color: var(--bg-secondary);\n  padding: 1rem;\n  border-radius: 6px;\n  margin-bottom: 1rem;\n}\n\n.phase-btn {\n  background-color: var(--success-color);\n}\n\n.phase-btn:hover {\n  background-color: var(--success-hover);\n}\n\n.player-list {\n  background-color: var(--bg-secondary);\n  padding: 1rem;\n  border-radius: 6px;\n}\n\n.player-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.player-role {\n  color: var(--text-secondary);\n}\n\n/* Player View */\n.player-view {\n  background-color: var(--bg-secondary);\n  padding: 1rem;\n  border-radius: 6px;\n}\n\n.role-info {\n  background-color: var(--bg-primary);\n  padding: 1rem;\n  border-radius: 4px;\n  margin: 1rem 0;\n}\n\n.role-title {\n  font-weight: bold;\n  color: var(--text-primary);\n  margin-bottom: 0.5rem;\n}\n\n.role-description {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.night-action,\n.voting-action {\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: var(--bg-primary);\n  border-radius: 4px;\n}\n\n/* Setup and Join Forms */\n.setup-form,\n.player-join {\n  max-width: 400px;\n  margin: 0 auto;\n  background-color: var(--bg-secondary);\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px var(--shadow-color);\n}\n\n.game-code {\n  text-align: center;\n  font-size: 1.2rem;\n  margin: 1rem 0;\n  padding: 0.5rem;\n  background-color: var(--bg-primary);\n  border-radius: 4px;\n}\n\n.setup-instructions {\n  text-align: center;\n  color: var(--text-secondary);\n  margin-bottom: 1.5rem;\n}\n\n.error-message {\n  color: var(--danger-color);\n  margin: 0.5rem 0;\n  text-align: center;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .app {\n    padding: 0.5rem;\n  }\n\n  .game-container {\n    padding: 0.8rem;\n  }\n\n  .game-setup {\n    margin: 1rem;\n    padding: 1rem;\n  }\n\n  .game-info {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  h1 {\n    font-size: 1.5rem;\n  }\n\n  h2 {\n    font-size: 1.2rem;\n  }\n\n  h3 {\n    font-size: 1.1rem;\n  }\n\n  .setup-option-btn {\n    padding: 1rem;\n    font-size: 1.1rem;\n  }\n}\n\n/* QR Code Styles */\n.qr-code-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 1rem;\n  background-color: var(--bg-secondary);\n  border-radius: 8px;\n  box-shadow: 0 2px 4px var(--shadow-color);\n  margin: 1rem 0;\n}\n\n.qr-code {\n  padding: 1rem;\n  background-color: var(--bg-secondary);\n  border-radius: 4px;\n}\n\n.qr-code-text {\n  margin: 0.5rem 0;\n  color: var(--text-primary);\n  font-size: 1.1rem;\n  font-weight: bold;\n}\n\n.qr-code-url {\n  margin: 0.5rem 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  word-break: break-all;\n  text-align: center;\n  max-width: 100%;\n}\n");var Ls=document.getElementById("root");C.createRoot(Ls).render(c.createElement(c.StrictMode,null,c.createElement(Ds,null)))}();
//# sourceMappingURL=bundle.js.map
